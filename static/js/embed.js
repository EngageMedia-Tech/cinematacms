!function(){var e,t={174:function(e,t,i){"use strict";function s(e,t,i){return e.scrollLeft?1+Math.ceil(e.scrollLeft/t):i}function n(e,t){void 0!==e&&(this.data={dom:{wrapper:e,firstItem:e.querySelector(t)},item:{width:null}},this.data.item.width=this.data.dom.firstItem.offsetWidth,this.state={initedAllStateValues:!1,currentSlide:1,maxSlideIndex:null,slideItemsFit:null,slideItems:null,totalItems:null,wrapper:{width:null,scrollWidth:null}})}i.d(t,{A:function(){return n}}),n.prototype.updateDataStateOnResize=function(e,t){this.data.item.width=this.data.dom.firstItem.offsetWidth,this.state.wrapper.width=this.data.dom.wrapper.offsetWidth,this.state.wrapper.scrollWidth=this.data.dom.wrapper.scrollWidth,this.state.slideItemsFit=Math.floor(this.state.wrapper.width/this.data.item.width),this.state.slideItems=Math.max(1,this.state.slideItemsFit),t&&this.state.slideItems<=this.state.slideItemsFit&&(this.state.itemsLengthFit=this.state.slideItems),this.state.totalItems=e,this.state.maxSlideIndex=Math.max(this.state.totalItems-this.state.slideItemsFit+1),this.state.currentSlide=Math.min(this.state.currentSlide,this.state.maxSlideIndex||1),this.state.currentSlide<=this.state.slideItemsFit&&1<this.state.currentSlide&&(this.state.currentSlide=1)},n.prototype.updateDataState=function(e,t,i){!i&&this.state.initedAllStateValues||(this.state.initedAllStateValues=!0,this.state.wrapper.width=this.data.dom.wrapper.offsetWidth,this.state.wrapper.scrollWidth=this.data.dom.wrapper.scrollWidth,this.state.slideItemsFit=Math.floor(this.state.wrapper.width/this.data.item.width),this.state.slideItems=Math.max(1,this.state.slideItemsFit),t&&this.state.slideItems<=this.state.slideItemsFit&&(this.state.itemsLengthFit=this.state.slideItems)),this.state.totalItems=e,this.state.maxSlideIndex=Math.max(1,this.state.totalItems-this.state.slideItemsFit+1),this.state.currentSlide=Math.min(this.state.currentSlide,this.state.maxSlideIndex),this.state.currentSlide<=this.state.slideItemsFit&&1<this.state.currentSlide&&(this.state.currentSlide=1)},n.prototype.nextSlide=function(){this.state.currentSlide=Math.min(s(this.data.dom.wrapper,this.data.item.width,this.state.currentSlide)+this.state.slideItems,this.state.maxSlideIndex)},n.prototype.previousSlide=function(){this.state.currentSlide=Math.max(1,s(this.data.dom.wrapper,this.data.item.width,this.state.currentSlide)-this.state.slideItems)},n.prototype.scrollToCurrentSlide=function(){this.data.dom.wrapper.scrollLeft=this.data.item.width*(this.state.currentSlide-1)},n.prototype.hasNextSlide=function(){return this.state.currentSlide<this.state.maxSlideIndex},n.prototype.hasPreviousSlide=function(){return 1<this.state.currentSlide},n.prototype.currentSlide=function(){return this.state.currentSlide},n.prototype.loadItemsToFit=function(){return 2*this.state.slideItemsFit>this.state.totalItems},n.prototype.loadMoreItems=function(){return this.state.currentSlide+this.state.slideItemsFit>=this.state.maxSlideIndex},n.prototype.itemsFit=function(){return this.state.slideItemsFit}},929:function(e,t,i){"use strict";function s(e){return function(e){return e===Math.trunc(e)}(e)&&(function(e){return function(e){return e>0}(e)}(e)||function(e){return 0===e}(e))}i.d(t,{tR:function(){return s}})},1700:function(e,t,i){const s=i(7956).Dispatcher;e.exports=new s},1756:function(e,t,i){"use strict";i(5602),i(3203),i(3705)},1985:function(e,t,i){"use strict";var s=i(6137),n=i(5602),a=i(7236),r=(i(8282),i(863),i(9431),i(1756),i(6680),i(623)),o=i(497),d=i.n(o),l=i(4443),c=i(6738);const u={};class h extends(d()){constructor(){super(),this.mediacms_config=(0,c.$)(window.MediaCMS);const e=(t={},window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(e,i,s){t[i]=s})),t);var t;const i=e.q,s=e.c,n=e.t,a=e.topic,r=e.country,o=e.language;u[Object.defineProperty(this,"id",{value:"SearchFieldStoreData_"+Object.keys(u).length}).id]={searchQuery:i?decodeURIComponent(i).replace(/\+/g," "):"",categoriesQuery:s?decodeURIComponent(s).replace(/\+/g," "):"",tagsQuery:n?decodeURIComponent(n).replace(/\+/g," "):"",topicsQuery:a?decodeURIComponent(a).replace(/\+/g," "):"",countriesQuery:r?decodeURIComponent(r).replace(/\+/g," "):"",languagesQuery:o?decodeURIComponent(o).replace(/\+/g," "):"",predictions:[]},this.dataResponse=this.dataResponse.bind(this)}dataResponse(e){if(e&&e.data){let t=0;for(u[this.id].predictions=[];t<e.data.length;)u[this.id].predictions[t]=e.data[t].title,t+=1;this.emit("load_predictions",u[this.id].requestedQuery,u[this.id].predictions),u[this.id].pendingRequested?(u[this.id].requestedQuery=u[this.id].pendingRequested.query,(0,l.iq)(u[this.id].pendingRequested.url,!1,this.dataResponse),u[this.id].pendingRequested=null):u[this.id].requestedQuery=null}}get(e){switch(e){case"search-query":return u[this.id].searchQuery;case"search-categories":return u[this.id].categoriesQuery;case"search-tags":return u[this.id].tagsQuery;case"search-topics":return u[this.id].topicsQuery;case"search-countries":return u[this.id].countriesQuery;case"search-languages":return u[this.id].languagesQuery}return null}actions_handler(e){if("REQUEST_PREDICTIONS"===e.type){let t=e.query,i=this.mediacms_config.api.search.titles+t;if(u[this.id].requestedQuery)return void(u[this.id].requestedQuery.q!==t&&(u[this.id].pendingRequested={query:t,url:i}));u[this.id].requestedQuery=t,(0,l.iq)(i,!1,this.dataResponse)}}}(0,l.ey)(new h,"actions_handler");var m=i(1700),p=i.n(m);i(3705);const g=(0,c.$)(window.MediaCMS),f=g.url,b=g.theme,v=g.member,y=b.switch.enabled&&"header"===b.switch.position;n.createContext({hasThemeSwitcher:y,popupNavItems:{top:function(){const e=[];return v.is.anonymous||(v.can.addMedia&&(e.push({link:f.user.addMedia,icon:"video_call",text:"Upload media",itemAttr:{className:"visible-only-in-small"}}),v.pages.home&&e.push({link:v.pages.home,icon:"video_library",text:"My media"})),e.push({link:f.signout,icon:"exit_to_app",text:"Sign out"})),e}(),middle:function(){const e=[];return y&&e.push({itemType:"open-subpage",icon:"brightness_4",iconPos:"left",text:"Switch theme",buttonAttr:{className:"change-page","data-page-id":"switch-theme"}}),v.is.anonymous?(v.can.login&&e.push({itemType:"link",icon:"login",iconPos:"left",text:"Sign in",link:f.signin,linkAttr:{className:y?"visible-only-in-small":"visible-only-in-extra-small"}}),v.can.register&&e.push({itemType:"link",icon:"person_add",iconPos:"left",text:"Register",link:f.register,linkAttr:{className:y?"visible-only-in-small":"visible-only-in-extra-small"}})):(e.push({link:f.user.editProfile,icon:"brush",text:"Edit profile"}),v.can.changePassword&&e.push({link:f.changePassword,icon:"lock",text:"Change password"})),e}(),bottom:function(){const e=[];return v.is.admin&&e.push({link:f.admin,icon:"admin_panel_settings",text:"MediaCMS administration"}),e}()}}).Consumer;const S={switch:(0,c.$)(window.MediaCMS).theme.switch},w=n.createContext(S);w.Provider,w.Consumer,i(4772);var I=i(5762),k=i.n(I),M=i(670),x=i(8429);function A(e){const t=(0,n.useContext)(a.A),i={"aria-label":"Account profile photo that opens list of options and settings pages links",className:"thumbnail"};switch(e.isButton?void 0!==e.onClick&&(i.onClick=e.onClick):i.type="span",e.size){case"small":case"large":i.className+=" "+e.size+"-thumb"}return n.createElement(M.i,i,t.thumbnail?n.createElement("img",{src:t.thumbnail,alt:""}):n.createElement(r.Z,{type:"person"}))}A.propTypes={isButton:k().bool,size:k().oneOf(["small","medium","large"]),onClick:k().func},A.defaultProps={isButton:!1,size:"medium"};var C=i(7030),E=i(9083);function _(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")}function O(e){"dark"===e?(0,E.zc)(document.body,"dark_theme"):(0,E.qk)(document.body,"dark_theme")}class P extends(d()){constructor(){super();const e=(0,c.$)(window.MediaCMS);var t,i;this.cache=new C.A("MediaCMS["+e.site.id+"][theme]",86400),this.logos=function(e){let t=null,i=null;return void 0!==e.darkMode&&(_()&&void 0!==e.darkMode.svg&&""!==e.darkMode.svg?i=e.darkMode.svg:void 0!==e.darkMode.img&&""!==e.darkMode.img&&(i=e.darkMode.img)),void 0!==e.lightMode&&(_()&&void 0!==e.lightMode.svg&&""!==e.lightMode.svg?t=e.lightMode.svg:void 0!==e.lightMode.img&&""!==e.lightMode.img&&(t=e.lightMode.img)),null===t&&null===i||(null===t?t=i:null===i&&(i=t)),{light:t,dark:i}}(e.theme.logo),this.state={mode:(t=this.cache.get("mode"),i=e.theme.mode,"light"===t||"dark"===t?t:i)},O(this.state.mode)}get(e){switch(e){case"logo":return this.logos[this.state.mode];case"mode":return this.state.mode}}actions_handler(e){"TOGGLE_MODE"===e.type&&(this.state.mode="light"===this.state.mode?"dark":"light",O(this.state.mode),this.cache.set("mode",this.state.mode),this.emit("mode-change"))}}(0,l.ey)(new P,"actions_handler"),i(3902),i(4397);var q=i(1724);i(306);n.createContext((0,c.$)(window.MediaCMS).sidebar).Consumer;var T=i(8673),N=i(8355);!function(e,t){if(void 0!==t){const i=document.getElementById(e);null!==i&&s.A.display(i,t,{},e)}}("page-embed",(function(){const[e,t]=(0,n.useState)(!1),[i,s]=(0,n.useState)(!1);function a(){t(!0)}function r(){s(!0)}return x.oh("embed"),(0,n.useEffect)((()=>(N.A.on("loaded_video_data",a),N.A.on("loaded_media_error",r),p().dispatch({type:"LOAD_MEDIA_DATA"}),()=>{N.A.removeListener("loaded_video_data",a),N.A.removeListener("loaded_media_error",r)})),[]),n.createElement("div",{className:"embed-wrap"},i?n.createElement("div",{className:"player-container player-container-error"},n.createElement("div",{className:"player-container-inner"},n.createElement("div",{className:"error-container"},n.createElement("div",{className:"error-container-inner"},n.createElement("span",{className:"icon-wrap"},n.createElement("i",{className:"material-icons"},"error_outline")),n.createElement("span",{className:"msg-wrap"},N.A.get("media-load-error-message")))))):null,e?n.createElement(q.q,null,(e=>n.createElement(T.A,{data:N.A.get("media-data"),siteUrl:e.url}))):null)}))},3705:function(e,t,i){"use strict";i(5602)},3902:function(e,t,i){"use strict";var s=i(5602),n=i(5762),a=i.n(n),r=i(623);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)({}).hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},o.apply(null,arguments)}function d(e){let t=[];const i=e.itemAttr||{};void 0===i.className?i.className="":i.className&&(i.className+=" ");let n=e.text?e.icon&&"right"!==e.iconPos?1:0:-1,a=e.icon?e.text&&"right"===e.iconPos?1:0:-1;switch(-1<n&&(t[n]=s.createElement("span",{key:"Text"},e.text)),-1<a&&(t[a]=s.createElement("span",{key:"Icon",className:"right"===e.iconPos?"menu-item-icon-right":"menu-item-icon"},s.createElement(r.Z,{type:e.icon}))),e.itemType){case"link":t=s.createElement("a",o({},e.linkAttr||{},{href:e.link,title:e.text||null}),t),i.className+="link-item"+(e.active?" active":"");break;case"button":case"open-subpage":t=s.createElement("button",o({},e.buttonAttr||{},{key:"button"}),t);break;case"label":t=s.createElement("button",o({},e.buttonAttr||{},{key:"button"}),s.createElement("span",null,e.text||null)),i.className="label-item";break;case"div":t=s.createElement("div",o({},e.divAttr||{},{key:"div"}),e.text||null)}return""!==i.className&&(i.className=" "+i.className),i.className=i.className.trim(),s.createElement("li",i,t)}function l(e){const t=e.items.map(((e,t)=>s.createElement(d,o({key:t},e))));return t.length?s.createElement("div",{className:"nav-menu"+(e.removeVerticalPadding?" pv0":"")},s.createElement("nav",null,s.createElement("ul",null,t))):null}d.propTypes={itemType:a().oneOf(["link","open-subpage","button","label","div"]),link:a().string,icon:a().string,iconPos:a().oneOf(["left","right"]),text:a().string,active:a().bool,divAttr:a().object,buttonAttr:a().object,itemAttr:a().object,linkAttr:a().object},d.defaultProps={itemType:"link",iconPos:"left",active:!1},l.propTypes={removeVerticalPadding:a().bool,items:a().arrayOf(a().shape(d.propTypes)).isRequired},l.defaultProps={removeVerticalPadding:!1}},4098:function(e,t,i){"use strict";var s=i(929);const n={};t.A=class{constructor(e){n[Object.defineProperty(this,"id",{value:"MediaDurationInfo_"+Object.keys(n).length}).id]={fn:{infoToString:function(e){return e<10?"0"+e:e}}},(0,s.tR)(e)&&this.update(e)}update(e){n[this.id].toString=void 0,n[this.id].ariaLabel=void 0,(0,s.tR)(e)&&(n[this.id].days=Math.floor(e/86400),n[this.id].seconds=e%86400,n[this.id].date=n[this.id].seconds?new Date(1e3*n[this.id].seconds):null,n[this.id].hours=n[this.id].date?24*n[this.id].days+n[this.id].date.getUTCHours():0,n[this.id].minutes=n[this.id].date?n[this.id].date.getUTCMinutes():0,n[this.id].seconds=n[this.id].date?n[this.id].date.getSeconds():0)}toString(){return void 0===n[this.id].toString&&(n[this.id].toString=(0<n[this.id].hours?n[this.id].hours+":":"")+(0<n[this.id].hours&&10>n[this.id].minutes?"0":"")+n[this.id].minutes+":"+n[this.id].fn.infoToString(n[this.id].seconds)),n[this.id].toString}ariaLabel(){if(void 0===n[this.id].ariaLabel){let e=[];0<n[this.id].hours&&e.push(n[this.id].hours+" hours"),0<n[this.id].minutes&&e.push(n[this.id].minutes+" minutes"),0<n[this.id].seconds&&e.push(n[this.id].seconds+" seconds"),n[this.id].ariaLabel=e.join(", ")}return n[this.id].ariaLabel}ISO8601(){return"P0Y0M0DT"+n[this.id].hours+"H"+n[this.id].minutes+"M"+n[this.id].seconds+"S"}}},4397:function(e,t,i){"use strict";var s=i(5602),n=i(3203),a=i(5762),r=i.n(a);function o(e){const t=(0,s.useRef)(null),[i,a]=(0,s.useState)(null);let r=[];function o(t,i){var s;i.preventDefault(),i.stopPropagation(),s=r[t].id,void 0!==e.pages[s]&&a(s)}return(0,s.useEffect)((()=>{void 0!==e.pages[e.initPage]?a(e.initPage):Object.keys(e.pages).length?a(Object.keys(e.pages)[0]):a(null)}),[e.initPage]),(0,s.useEffect)((()=>{!function(){let e=0;for(;e<r.length;)r[e].elem.removeEventListener("click",r[e].listener),e+=1;r=[]}(),i&&(function(){let i,s,a=(0,n.findDOMNode)(t.current),d=a.querySelectorAll(e.pageChangeSelector);if(d.length)for(i=0;i<d.length;)s=d[i].getAttribute(e.pageIdSelectorAttr),s=s?s.trim():s,s&&(r[i]={id:s,elem:d[i]},r[i].listener=(e=>t=>o(e,t))(i),r[i].elem.addEventListener("click",r[i].listener)),i+=1;e.focusFirstItemOnPageChange&&a.focus()}(),"function"==typeof e.pageChangeCallback&&e.pageChangeCallback(i))}),[i]),i?s.createElement("div",{ref:t},s.cloneElement(e.pages[i])):null}o.propTypes={initPage:r().string,pages:r().object.isRequired,pageChangeSelector:r().string.isRequired,pageIdSelectorAttr:r().string.isRequired,focusFirstItemOnPageChange:r().bool,pageChangeCallback:r().func},o.defaultProps={focusFirstItemOnPageChange:!0}},4443:function(e,t,i){"use strict";i.d(t,{Fb:function(){return r.A},MB:function(){return n.A},QA:function(){return h.Ay},ZV:function(){return d.A},ey:function(){return o.A},gJ:function(){return l.A},iq:function(){return s.A},m5:function(){return u.A},p7:function(){return c.A},zi:function(){return a.A}});var s=i(9702),n=i(8628),a=i(7449),r=i(1579),o=i(4340),d=i(6925),l=(i(797),i(7974),i(4404)),c=i(7743),u=(i(8959),i(5252)),h=i(8198)},4772:function(e,t,i){"use strict";i(1700)},4914:function(e,t,i){"use strict";i.d(t,{c:function(){return a}});var s=i(306),n=i.n(s);function a(e,t){let i=n()(e,{});return""!==i.origin&&"null"!==i.origin&&i.origin||(i=n()(t+"/"+e.replace(/^\//g,""),{})),i.toString()}},6680:function(e,t,i){"use strict";var s=i(5602),n=i(6738);s.createContext((0,n.$)(window.MediaCMS).url).Consumer},7236:function(e,t,i){"use strict";var s=i(5602),n=i(6738);const a=s.createContext((0,n.$)(window.MediaCMS).member);a.Consumer,t.A=a},8282:function(e,t,i){"use strict";var s=i(5602),n=i(6738);s.createContext((0,n.$)(window.MediaCMS).api).Consumer},8429:function(e,t,i){"use strict";i.d(t,{oh:function(){return a}});var s=i(1700),n=i.n(s);function a(e){n().dispatch({type:"INIT_PAGE",page:e})}},9431:function(e,t,i){"use strict";i(5602);var s=i(497),n=i.n(s),a=i(7030),r=i(4443),o=i(9083),d=i(6738),l=i(863);let c;class u extends(n()){constructor(){super();const e=(0,d.$)(window.MediaCMS);this.cache=new a.A("MediaCMS["+e.site.id+"][layout]",86400),this.state={enabledSidebar:!(!document.getElementById("app-sidebar")&&!document.querySelector(".page-sidebar")),visibleSidebar:this.cache.get("visible-sidebar"),visibleMobileSearch:!1},"media"===l.A.get("current-page")?this.state.visibleSidebar=!1:this.state.visibleSidebar=1023<window.innerWidth&&(null===this.state.visibleSidebar||this.state.visibleSidebar),this.state.visibleSidebar?(0,o.zc)(document.body,"visible-sidebar"):(0,o.qk)(document.body,"visible-sidebar"),l.A.once("page_init",(()=>{"media"===l.A.get("current-page")&&(this.state.visibleSidebar=!1,(0,o.qk)(document.body,"visible-sidebar"))}).bind(this))}get(e){switch(e){case"enabled-sidebar":return this.state.enabledSidebar;case"visible-sidebar":return this.state.visibleSidebar;case"visible-mobile-search":return this.state.visibleMobileSearch;case"container-width":return window.innerWidth;case"container-height":return window.innerHeight}}actions_handler(e){switch(e.type){case"TOGGLE_SIDEBAR":this.state.visibleSidebar=!this.state.visibleSidebar,t=this.state.visibleSidebar,clearTimeout(c),(0,o.zc)(document.body,"sliding-sidebar"),c=setTimeout((function(){"media"===l.A.get("current-page")?t?(0,o.zc)(document.body,"overflow-hidden"):(0,o.qk)(document.body,"overflow-hidden"):!t||767<window.innerWidth?(0,o.qk)(document.body,"overflow-hidden"):(0,o.zc)(document.body,"overflow-hidden"),t?(0,o.zc)(document.body,"visible-sidebar"):(0,o.qk)(document.body,"visible-sidebar"),c=setTimeout((function(){c=null,(0,o.qk)(document.body,"sliding-sidebar")}),220)}),20),this.cache.set("visible-sidebar",this.state.visibleSidebar),this.emit("sidebar-visibility-change");break;case"CHANGE_MOBILE_SEARCH_VISIBILITY":this.state.visibleMobileSearch=e.visible,this.emit("mobile-search-visibility-change")}var t}}(0,r.ey)(new u,"actions_handler")}},i={};function s(e){var n=i[e];if(void 0!==n)return n.exports;var a=i[e]={exports:{}};return t[e].call(a.exports,a,a.exports,s),a.exports}s.m=t,e=[],s.O=function(t,i,n,a){if(!i){var r=1/0;for(c=0;c<e.length;c++){i=e[c][0],n=e[c][1],a=e[c][2];for(var o=!0,d=0;d<i.length;d++)(!1&a||r>=a)&&Object.keys(s.O).every((function(e){return s.O[e](i[d])}))?i.splice(d--,1):(o=!1,a<r&&(r=a));if(o){e.splice(c--,1);var l=n();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[i,n,a]},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.j=722,function(){var e={722:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,a,r=i[0],o=i[1],d=i[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(n in o)s.o(o,n)&&(s.m[n]=o[n]);if(d)var c=d(s)}for(t&&t(i);l<r.length;l++)a=r[l],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(c)},i=self.webpackChunkmediacms_frontend=self.webpackChunkmediacms_frontend||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var n=s.O(void 0,[276],(function(){return s(1985)}));n=s.O(n)}();