!function(){"use strict";var e,t={549:function(e,t,i){function n(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")}function s(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function r(e,t){return e.className&&new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)}i.d(t,{CX:function(){return r},kN:function(){return n},zc:function(){return s}})},620:function(e,t,i){i(5602);var n=i(5762),s=i.n(n);i(7287),s().object,s().string},623:function(e,t,i){i.d(t,{Z:function(){return s}});var n=i(5602);const s=e=>{let{type:t}=e;return t?n.createElement("i",{className:"material-icons","data-icon":t}):null}},2194:function(e,t,i){i.d(t,{i:function(){return l}});var n=i(5602),s=i(5762),r=i.n(s);function l(e){return n.createElement(n.Fragment,null,n.createElement("div",{className:(void 0===e.className||null===e.className?"":e.className+" ")+"hw-category",style:e.style},n.createElement("h2",{className:"hw-category-title"},e.title),void 0===e.viewAllLink||null===e.viewAllLink?null:n.createElement("a",{href:e.viewAllLink,title:e.viewAllText||e.viewAllLink,className:"hw-category-link"},e.viewAllText||e.viewAllLink)),e.desc&&n.createElement("div",{className:"hw-category-description"},e.desc))}l.propTypes={style:r().object,className:r().string,title:r().string.isRequired,viewAllLink:r().string,viewAllText:r().string},l.defaultProps={viewAllText:"VIEW ALL"}},3926:function(e,t,i){i.d(t,{y:function(){return w}});var n=i(5602),s=i(3088),r=(i(6902),i(863));var l=i(8998),a=i(4719),o=i(5762),u=i.n(o),c=i(6155),d=i(1838),m=i(4443),f=i(4914);function h(e,t,i,n,s,l){const a={maxItems:t||255,pageItems:e?Math.min(t,e):1},o={totalItems:0,totalPages:0,nextRequestUrl:(0,f.c)(n,r.A.get("config-site").url)},u={pageItems:0,requestResponse:!1};let c=null;const d=[],h=[];function p(e){let t,i;if(e=isNaN(e)?a.pageItems:e,u.pageItems&&u.pageItems<=h.length?(t=u.pageItems,i=!1,u.pageItems=0):(t=Math.min(e,h.length),i=e>h.length&&!!o.nextRequestUrl,u.pageItems=i?e-h.length:0),t){let e=0;for(;e<t;)d.push(h.shift()),e+=1;"function"==typeof l&&l(d)}i&&g()}function g(e){u.requestResponse=!0,(0,m.iq)(o.nextRequestUrl,!1,(function(t){if(u.requestResponse=!1,!t||!t.data)return;let i=t.data,n=void 0!==i.results?i.results:i,r=0;for(;r<n.length&&a.maxItems>h.length;)null!==c&&c===n[r].url||h.push(n[r]),r+=1;o.nextRequestUrl=i.next&&a.maxItems>h.length?i.next:null,e&&(o.totalItems=i.count?i.count:h.length,o.totalItems=Math.min(a.maxItems,o.totalItems),o.totalPages=Math.ceil(o.totalItems/a.pageItems),"function"==typeof s&&s(o.totalItems)),p()})),o.nextRequestUrl=null}return null!=i?(0,m.iq)((0,f.c)(i,r.A.get("config-site").url),!1,(function(e){if(e&&e.data){let t=e.data,i=void 0!==t.results?t.results:t;i.length&&(c=i[0].url,d.push(i[0]))}g(!0)})):g(!0),{loadItems:function(e){!u.requestResponse&&d.length<o.totalItems&&p(e)},totalPages:function(){return o.totalPages},loadedAllItems:function(){return d.length===o.totalItems},cancelAll:function(){s=null,l=null}}}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},p.apply(null,arguments)}function g(e){const[t,i,s,r,o,u,d,m,f,g,v]=(0,c.s)(e);return(0,n.useEffect)((()=>(r(new h(e.pageItems,e.maxItems,e.firstItemRequestUrl,e.requestUrl,m,f)),()=>{s&&(s.cancelAll(),r(null))})),[]),t?i.length?n.createElement("div",{className:o.listOuter},g(),n.createElement("div",{ref:u,className:"items-list-wrap"},n.createElement("div",{ref:d,className:o.list},i.map(((t,i)=>n.createElement(a.c,p({key:i},(0,a.k)(e,t,i))))))),v()):null:n.createElement(l.e,{className:o.listOuter})}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},v.apply(null,arguments)}function w(e){const[t,i,o,u,c,d,m,f,p,g,w,y,I]=function(e){const t=(0,n.useRef)(null),i=(0,n.useRef)(null),[l,a,o,u,c,d,m]=(0,s.B)(e,t),[f,h]=(0,n.useState)(window.scrollY+2*window.outerHeight);let p={list:"items-list",listOuter:"items-list-outer"+("string"==typeof e.className?" "+e.className.trim():"")};function g(){h(window.scrollY+2*window.outerHeight)}return(0,n.useEffect)((()=>{m(),null!==t.current&&(g(),o.loadedAllItems()&&r.A.removeListener("window_scroll",g))}),[l]),(0,n.useEffect)((()=>{null!==t.current&&null!==o&&f>=t.current.offsetTop+t.current.offsetHeight&&o.loadItems()}),[l,f]),[l,a,o,u,p,d,c,g,function(){document.hidden||setTimeout(g,10)},i,t,function(){return null},function(){return null}]}(e);return(0,n.useEffect)((()=>(u(new h(e.pageItems,e.maxItems,e.firstItemRequestUrl,e.requestUrl,d,m)),e.forceDisableInfiniteScroll||(r.A.on("window_scroll",f),r.A.on("document_visibility_change",p),f()),()=>{e.forceDisableInfiniteScroll||(r.A.removeListener("window_scroll",f),r.A.removeListener("document_visibility_change",p)),o&&(o.cancelAll(),u(null))})),[]),i?t.length?n.createElement("div",{className:c.listOuter},y(),n.createElement("div",{ref:g,className:"items-list-wrap"},n.createElement("div",{ref:w,className:c.list},t.map(((t,i)=>e.firstItemViewer&&1===i?n.createElement("section",{className:"hw-recent-videos-section",key:i},n.createElement("h1",null,e.headingText),n.createElement(a.c,v({key:i},(0,a.k)(e,t,i)))):n.createElement(a.c,v({key:i},(0,a.k)(e,t,i))))))),I()):null:n.createElement(l.e,{className:c.listOuter})}g.propTypes={...d.k.propTypes,items:u().array,requestUrl:u().string.isRequired,firstItemRequestUrl:u().string},g.defaultProps={...d.k.defaultProps,requestUrl:null,firstItemRequestUrl:null,pageItems:24},i(620),w.propTypes={...g.propTypes},w.defaultProps={...g.defaultProps,pageItems:2}},4098:function(e,t,i){var n=i(929);const s={};t.A=class{constructor(e){s[Object.defineProperty(this,"id",{value:"MediaDurationInfo_"+Object.keys(s).length}).id]={fn:{infoToString:function(e){return e<10?"0"+e:e}}},(0,n.tR)(e)&&this.update(e)}update(e){s[this.id].toString=void 0,s[this.id].ariaLabel=void 0,(0,n.tR)(e)&&(s[this.id].days=Math.floor(e/86400),s[this.id].seconds=e%86400,s[this.id].date=s[this.id].seconds?new Date(1e3*s[this.id].seconds):null,s[this.id].hours=s[this.id].date?24*s[this.id].days+s[this.id].date.getUTCHours():0,s[this.id].minutes=s[this.id].date?s[this.id].date.getUTCMinutes():0,s[this.id].seconds=s[this.id].date?s[this.id].date.getSeconds():0)}toString(){return void 0===s[this.id].toString&&(s[this.id].toString=(0<s[this.id].hours?s[this.id].hours+":":"")+(0<s[this.id].hours&&10>s[this.id].minutes?"0":"")+s[this.id].minutes+":"+s[this.id].fn.infoToString(s[this.id].seconds)),s[this.id].toString}ariaLabel(){if(void 0===s[this.id].ariaLabel){let e=[];0<s[this.id].hours&&e.push(s[this.id].hours+" hours"),0<s[this.id].minutes&&e.push(s[this.id].minutes+" minutes"),0<s[this.id].seconds&&e.push(s[this.id].seconds+" seconds"),s[this.id].ariaLabel=e.join(", ")}return s[this.id].ariaLabel}ISO8601(){return"P0Y0M0DT"+s[this.id].hours+"H"+s[this.id].minutes+"M"+s[this.id].seconds+"S"}}},4443:function(e,t,i){i.d(t,{ZV:function(){return l.A},ey:function(){return r.A},gj:function(){return a.A},iq:function(){return n.A},m5:function(){return o.A},zi:function(){return s.A}});var n=i(9702),s=i(7449),r=i(4340),l=i(6925),a=i(9804),o=(i(797),i(7974),i(8959),i(5252))},4681:function(e,t,i){i.d(t,{$M:function(){return r}});var n=i(1700),s=i.n(n);function r(e,t){s().dispatch({type:"MEDIA_REMOVED_FROM_PLAYLIST",media_id:e,playlist_id:t})}},6451:function(e,t,i){var n=i(655),s=i(5602),r=i(5762),l=i.n(r),a=i(8282),o=i(9723),u=i(7287),c=i(3926),d=i(1653),m=i(863),f=i(6738);class h extends d.Y{constructor(e){super(e,"home"),this.mediacms_config=(0,f.$)(window.MediaCMS),this.state={loadedLatest:!1,visibleLatest:!1,loadedFeatured:!1,visibleFeatured:!1,loadedRecommended:!1,visibleRecommended:!1,indexFeaturedList:[]},this.onLoadLatest=this.onLoadLatest.bind(this),this.onLoadFeatured=this.onLoadFeatured.bind(this),this.onLoadRecommended=this.onLoadRecommended.bind(this)}componentDidMount(){fetch(this.mediacms_config.api.indexfeatured).then((e=>e.json())).then((e=>{this.setState({indexFeaturedList:e})}))}onLoadLatest(e){this.setState({loadedLatest:!0,visibleLatest:0<e})}onLoadFeatured(e){this.setState({loadedFeatured:!0,visibleFeatured:0<e})}onLoadRecommended(e){this.setState({loadedRecommended:!0,visibleRecommended:0<e})}pageContent(){return s.createElement(a.W,null,(e=>s.createElement(s.Fragment,null,s.createElement(o.J,{className:"items-list-ver"},this.state.loadedLatest&&!this.state.visibleLatest?null:s.createElement(u.F,{className:"feat-first-item"+(void 0===this.props.title?" no-title":"")},s.createElement(c.y,{headingText:"Featured videos",firstItemViewer:!0,firstItemDescr:!0,firstItemRequestUrl:e.featured,requestUrl:e.featured,itemsCountCallback:this.onLoadLatest,hideViews:!0,hideAuthor:!m.A.get("config-media-item").displayAuthor,hideDate:!m.A.get("config-media-item").displayPublishDate,forceDisableInfiniteScroll:!0,pageItems:9999,maxItems:8}))),this.state.indexFeaturedList.map(((e,t)=>s.createElement(o.J,{key:t,className:"items-list-ver "+(t%2==0?"hw-even-list":"hw-odd-list")},this.state.loadedLatest&&!this.state.visibleLatest?null:s.createElement(u.F,{title:e.title,viewAllLink:e.url,viewAllText:"View all",desc:e.text,className:void 0===this.props.title?" no-title":""},s.createElement(c.y,{requestUrl:e.api_url,hideViews:!0,hideAuthor:!m.A.get("config-media-item").displayAuthor,hideDate:!m.A.get("config-media-item").displayPublishDate,forceDisableInfiniteScroll:!0,maxItems:8}))))),s.createElement(o.J,{className:"items-list-ver"},this.state.loadedLatest&&!this.state.visibleLatest?null:s.createElement(u.F,{className:"feat-first-item hw-most-recent-videos"+(void 0===this.props.title?" no-title":"")},s.createElement(c.y,{headingText:"Recent videos",firstItemViewer:!0,firstItemDescr:!0,requestUrl:e.media,itemsCountCallback:this.onLoadLatest,hideViews:!0,hideAuthor:!m.A.get("config-media-item").displayAuthor,hideDate:!m.A.get("config-media-item").displayPublishDate,pageItems:20}))))))}}h.propTypes={title:l().string},(0,n.C)("page-home",h)},6680:function(e,t,i){i.d(t,{y:function(){return l}});var n=i(5602),s=i(6738);const r=n.createContext((0,s.$)(window.MediaCMS).url),l=r.Consumer;t.A=r},7287:function(e,t,i){i.d(t,{F:function(){return a}});var n=i(5602),s=i(5762),r=i.n(s),l=i(2194);function a(e){return n.createElement("div",{className:(void 0===e.className||null===e.className?"":e.className+" ")+"media-list-row",style:e.style},void 0===e.title||null===e.title?null:n.createElement(l.i,{title:e.title,viewAllLink:e.viewAllLink,viewAllText:e.viewAllText,desc:e.desc}),e.children||null)}a.propTypes={style:r().object,className:r().string,title:r().string,viewAllLink:r().string,viewAllText:r().string,children:r().node}},8282:function(e,t,i){i.d(t,{W:function(){return l}});var n=i(5602),s=i(6738);const r=n.createContext((0,s.$)(window.MediaCMS).api),l=r.Consumer;t.A=r},8429:function(e,t,i){i.d(t,{oh:function(){return r},z8:function(){return l}});var n=i(1700),s=i.n(n);function r(e){s().dispatch({type:"INIT_PAGE",page:e})}function l(e,t){s().dispatch({type:"ADD_NOTIFICATION",notification:e,notificationId:t})}},9723:function(e,t,i){i.d(t,{J:function(){return l}});var n=i(5602),s=i(5762),r=i.n(s);function l(e){return n.createElement("div",{className:(void 0===e.className||null===e.className?"":e.className+" ")+"media-list-wrapper",style:e.style},e.children||null)}l.propTypes={style:r().object,className:r().string}}},i={};function n(e){var s=i[e];if(void 0!==s)return s.exports;var r=i[e]={exports:{}};return t[e].call(r.exports,r,r.exports,n),r.exports}n.m=t,e=[],n.O=function(t,i,s,r){if(!i){var l=1/0;for(c=0;c<e.length;c++){i=e[c][0],s=e[c][1],r=e[c][2];for(var a=!0,o=0;o<i.length;o++)(!1&r||l>=r)&&Object.keys(n.O).every((function(e){return n.O[e](i[o])}))?i.splice(o--,1):(a=!1,r<l&&(l=r));if(a){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[i,s,r]},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=57,function(){var e={57:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,r,l=i[0],a=i[1],o=i[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(s in a)n.o(a,s)&&(n.m[s]=a[s]);if(o)var c=o(n)}for(t&&t(i);u<l.length;u++)r=l[u],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(c)},i=self.webpackChunkmediacms_frontend=self.webpackChunkmediacms_frontend||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var s=n.O(void 0,[276],(function(){return n(6451)}));s=n.O(s)}();