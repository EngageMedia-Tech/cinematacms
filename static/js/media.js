!function(){"use strict";var e,t={174:function(e,t,a){function i(e,t,a){return e.scrollLeft?1+Math.ceil(e.scrollLeft/t):a}function n(e,t){void 0!==e&&(this.data={dom:{wrapper:e,firstItem:e.querySelector(t)},item:{width:null}},this.data.item.width=this.data.dom.firstItem.offsetWidth,this.state={initedAllStateValues:!1,currentSlide:1,maxSlideIndex:null,slideItemsFit:null,slideItems:null,totalItems:null,wrapper:{width:null,scrollWidth:null}})}a.d(t,{A:function(){return n}}),n.prototype.updateDataStateOnResize=function(e,t){this.data.item.width=this.data.dom.firstItem.offsetWidth,this.state.wrapper.width=this.data.dom.wrapper.offsetWidth,this.state.wrapper.scrollWidth=this.data.dom.wrapper.scrollWidth,this.state.slideItemsFit=Math.floor(this.state.wrapper.width/this.data.item.width),this.state.slideItems=Math.max(1,this.state.slideItemsFit),t&&this.state.slideItems<=this.state.slideItemsFit&&(this.state.itemsLengthFit=this.state.slideItems),this.state.totalItems=e,this.state.maxSlideIndex=Math.max(this.state.totalItems-this.state.slideItemsFit+1),this.state.currentSlide=Math.min(this.state.currentSlide,this.state.maxSlideIndex||1),this.state.currentSlide<=this.state.slideItemsFit&&1<this.state.currentSlide&&(this.state.currentSlide=1)},n.prototype.updateDataState=function(e,t,a){!a&&this.state.initedAllStateValues||(this.state.initedAllStateValues=!0,this.state.wrapper.width=this.data.dom.wrapper.offsetWidth,this.state.wrapper.scrollWidth=this.data.dom.wrapper.scrollWidth,this.state.slideItemsFit=Math.floor(this.state.wrapper.width/this.data.item.width),this.state.slideItems=Math.max(1,this.state.slideItemsFit),t&&this.state.slideItems<=this.state.slideItemsFit&&(this.state.itemsLengthFit=this.state.slideItems)),this.state.totalItems=e,this.state.maxSlideIndex=Math.max(1,this.state.totalItems-this.state.slideItemsFit+1),this.state.currentSlide=Math.min(this.state.currentSlide,this.state.maxSlideIndex),this.state.currentSlide<=this.state.slideItemsFit&&1<this.state.currentSlide&&(this.state.currentSlide=1)},n.prototype.nextSlide=function(){this.state.currentSlide=Math.min(i(this.data.dom.wrapper,this.data.item.width,this.state.currentSlide)+this.state.slideItems,this.state.maxSlideIndex)},n.prototype.previousSlide=function(){this.state.currentSlide=Math.max(1,i(this.data.dom.wrapper,this.data.item.width,this.state.currentSlide)-this.state.slideItems)},n.prototype.scrollToCurrentSlide=function(){this.data.dom.wrapper.scrollLeft=this.data.item.width*(this.state.currentSlide-1)},n.prototype.hasNextSlide=function(){return this.state.currentSlide<this.state.maxSlideIndex},n.prototype.hasPreviousSlide=function(){return 1<this.state.currentSlide},n.prototype.currentSlide=function(){return this.state.currentSlide},n.prototype.loadItemsToFit=function(){return 2*this.state.slideItemsFit>this.state.totalItems},n.prototype.loadMoreItems=function(){return this.state.currentSlide+this.state.slideItemsFit>=this.state.maxSlideIndex},n.prototype.itemsFit=function(){return this.state.slideItemsFit}},549:function(e,t,a){function i(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")}function n(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function l(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function s(e,t){return e.className&&new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)}a.d(t,{CX:function(){return s},kN:function(){return i},qk:function(){return n},zc:function(){return l}})},2207:function(e,t,a){var i={};a.r(i),a.d(i,{addMediaToPlaylist:function(){return U},addNewPlaylist:function(){return H},copyEmbedMediaCode:function(){return D},copyShareLink:function(){return I},createPlaylist:function(){return F},deleteComment:function(){return O},dislikeMedia:function(){return L},likeMedia:function(){return P},loadMediaData:function(){return C},removeMedia:function(){return T},removeMediaFromPlaylist:function(){return z},reportMedia:function(){return R},submitComment:function(){return V},undislikeMedia:function(){return x},unlikeMedia:function(){return M}});var n=a(655),l=a(5602),s=(a(3203),a(8673)),r=a(5762),o=a.n(r),d=a(1724),c=(a(7752),a(8355)),m=a(1336),u=a(863),p=a(2818);function h(e){let t=null,a=e.split(".");if(a.length)switch(a=a[a.length-1],a){case"webm":t="audio/webm";break;case"flac":t="audio/flac";break;case"wave":t="audio/wave";break;case"wav":t="audio/wav";break;case"ogg":case"ogg":t="audio/ogg";break;case"mp3":case"mpeg":t="audio/mpeg"}return t}var f=a(4914),g=a(1206),y=a(2808),E=a(4098);const v=window.MediaPlayer;new E.A;class b extends l.PureComponent{constructor(e){super(e);let t=c.A.get("media-data");this.AudioPlayerData={},this.audioStartedPlaying=!1;let a=(0,f.c)(t.original_media_url,d.A._currentValue.url);this.videoSources=[{src:a,type:h(a)}],this.videoPoster=t.poster_url,this.videoPoster=this.videoPoster?this.videoPoster:t.thumbnail_url,this.videoPoster=this.videoPoster?(0,f.c)(this.videoPoster,d.A._currentValue.url):"",this.updatePlayerVolume=this.updatePlayerVolume.bind(this),this.onAudioEnd=this.onAudioEnd.bind(this),this.onAudioRestart=this.onAudioRestart.bind(this),u.A.on("switched_media_auto_play",this.onUpdateMediaAutoPlay.bind(this)),this.wrapperClick=this.wrapperClick.bind(this);const i=new E.A;i.update(c.A.get("media-data").duration),this.durationISO8601=i.ISO8601()}componentDidMount(){this.videoSources.length||console.warn("Audio DEBUG:","Audio file doesn't exist"),this.recommendedMedia=c.A.get("media-data").related_media.length?new y.A(c.A.get("media-data").related_media,this.refs.AudioElem.parentNode,this.props.inEmbed):null,this.upNextLoaderView=!this.props.inEmbed&&c.A.get("media-data").related_media.length?new g.A(c.A.get("media-data").related_media[0]):null,document.hasFocus()||"visible"===document.visibilityState?this.initPlayerInstance():(this.initPlayerInstance=this.initPlayerInstance.bind(this),window.addEventListener("focus",this.initPlayerInstance),document.addEventListener("visibilitychange",this.initPlayerInstance))}componentWillUnmount(){this.recommendedMedia&&(this.AudioPlayerData.instance.player.off("fullscreenchange",this.recommendedMedia.onResize),u.A.removeListener("window_resize",this.recommendedMedia.onResize),m.A.removeListener("changed_viewer_mode",this.recommendedMedia.onResize),this.recommendedMedia.destroy()),videojs(this.refs.AudioElem).dispose(),this.AudioPlayerData.instance=null,delete this.AudioPlayerData.instance}initPlayerInstance(){window.removeEventListener("focus",this.initPlayerInstance),document.removeEventListener("visibilitychange",this.initPlayerInstance),this.refs.AudioElem.focus(),this.initPlayerInstance=null,setTimeout(function(){if(!this.AudioPlayerData.instance){let e=this.props.inEmbed?document.createElement("a"):null,t=this.props.inEmbed?document.createElement("a"):null;e&&(e.setAttribute("class","title-link"),e.setAttribute("href",c.A.get("media-data").url),e.setAttribute("title",c.A.get("media-data").title),e.setAttribute("target","_blank"),e.innerHTML=c.A.get("media-data").title),t&&(t.setAttribute("class","user-thumb-link"),t.setAttribute("href",c.A.get("media-data").author_profile),t.setAttribute("title",c.A.get("media-data").author_name),t.setAttribute("target","_blank"),t.innerHTML='<img src="'+c.A.get("media-author-thumbnail-url")+'" alt="" />'),this.AudioPlayerData.instance=new v(this.refs.AudioElem,{sources:this.videoSources,poster:this.videoPoster,autoplay:!this.props.inEmbed,bigPlayButton:!0,controlBar:{fullscreen:!1,theaterMode:!1,next:!this.props.inEmbed&&0<c.A.get("media-data").related_media.length},cornerLayers:{topLeft:e,topRight:this.upNextLoaderView?this.upNextLoaderView.html():null,bottomLeft:this.recommendedMedia?this.recommendedMedia.html():null,bottomRight:t}},{volume:m.A.get("player-volume"),soundMuted:m.A.get("player-sound-muted")},null,null,this.onAudioPlayerStateUpdate.bind(this),this.onClickNextButton.bind(this),null),this.upNextLoaderView&&(this.upNextLoaderView.setVideoJsPlayerElem(this.AudioPlayerData.instance.player.el_),this.onUpdateMediaAutoPlay()),this.refs.AudioElem.parentNode.focus(),this.AudioPlayerData.instance.player.one("play",function(){this.audioStartedPlaying=!0}.bind(this)),this.recommendedMedia&&(this.recommendedMedia.initWrappers(this.AudioPlayerData.instance.player.el_),this.AudioPlayerData.instance.player.one("pause",this.recommendedMedia.init),this.AudioPlayerData.instance.player.on("fullscreenchange",this.recommendedMedia.onResize),u.A.on("window_resize",this.recommendedMedia.onResize),m.A.on("changed_viewer_mode",this.recommendedMedia.onResize)),this.AudioPlayerData.instance.player.one("ended",this.onAudioEnd)}}.bind(this),50)}initialDocumentFocus(){this.refs.AudioElem.parentNode&&(this.refs.AudioElem.parentNode.focus(),setTimeout(function(){this.AudioPlayerData.instance.player.play()}.bind(this),50)),window.removeEventListener("focus",this.initialDocumentFocus),this.initialDocumentFocus=null}onClickNextButton(){this.props.inEmbed||(window.location.href=c.A.get("media-data").related_media[0].url)}onUpdateMediaAutoPlay(){this.upNextLoaderView&&(u.A.get("media-auto-play")?this.upNextLoaderView.showTimerView(this.AudioPlayerData.instance.isEnded()):this.upNextLoaderView.hideTimerView())}onAudioPlayerStateUpdate(e){this.updatePlayerVolume(e.volume,e.soundMuted)}onAudioRestart(){this.recommendedMedia&&(this.recommendedMedia.updateDisplayType("inline"),this.AudioPlayerData.instance.player.one("pause",this.recommendedMedia.init),this.AudioPlayerData.instance.player.one("ended",this.onAudioEnd))}onAudioEnd(){if(this.recommendedMedia&&(this.recommendedMedia.updateDisplayType("full"),this.AudioPlayerData.instance.player.one("playing",this.onAudioRestart)),!this.props.inEmbed&&c.A.get("playlist-id")){const e=document.querySelector(".video-player .more-media"),t=document.querySelector(".video-player .vjs-actions-anim");this.upNextLoaderView.cancelTimer();const a=c.A.get("playlist-next-media-url");return a&&(e&&(e.style.display="none"),t&&(t.style.display="none"),window.location.href=a),void this.upNextLoaderView.hideTimerView()}this.upNextLoaderView&&(u.A.get("media-auto-play")?(this.upNextLoaderView.startTimer(),this.AudioPlayerData.instance.player.one("play",function(){this.upNextLoaderView.cancelTimer()}.bind(this))):this.upNextLoaderView.cancelTimer())}onUpdateMediaAutoPlay(){this.upNextLoaderView&&(u.A.get("media-auto-play")?this.upNextLoaderView.showTimerView(this.AudioPlayerData.instance.isEnded()):this.upNextLoaderView.hideTimerView())}updatePlayerVolume(e,t){m.A.get("player-volume")!==e&&p.i_(e),m.A.get("player-sound-muted")!==t&&p.DZ(t)}wrapperClick(e){e.target.parentNode===this.refs.videoPlayerWrap&&(this.AudioPlayerData.instance.player.ended()||(!this.AudioPlayerData.instance.player.hasStarted_||this.AudioPlayerData.instance.player.paused()?this.AudioPlayerData.instance.player.play():this.AudioPlayerData.instance.player.pause()))}render(){return l.createElement("div",{className:"player-container audio-player-container"},l.createElement("div",{className:"player-container-inner"},l.createElement("div",{className:"video-player",ref:"videoPlayerWrap",onClick:this.wrapperClick},l.createElement("audio",{tabIndex:"1",ref:"AudioElem",className:"video-js vjs-mediacms native-dimensions"}))))}}function _(e){const t=(0,l.useContext)(d.A);let a=r();a=a||c.A.get("media-data").thumbnail_url,a=a||"";const[i,n]=(0,l.useState)(a);function s(){n(r())}function r(){const e=c.A.get("media-data");let a="string"==typeof e.poster_url?e.poster_url.trim():"";return""===a&&(a="string"==typeof e.thumbnail_url?e.thumbnail_url.trim():""),""===a&&(a="string"==typeof c.A.get("media-original-url")?c.A.get("media-original-url").trim():""),""===a?"#":t.url+"/"+a.replace(/^\//g,"")}return(0,l.useEffect)((()=>(c.A.on("loaded_image_data",s),()=>c.A.removeListener("loaded_image_data",s))),[]),i?l.createElement("div",{className:"viewer-image-container"},l.createElement("img",{src:i,alt:c.A.get("media-data").title||null})):null}function A(){return l.createElement("div",{className:"player-container viewer-pdf-container"},l.createElement("div",{className:"player-container-inner"},l.createElement("span",null,l.createElement("span",null,l.createElement("i",{className:"material-icons"},"insert_drive_file")))))}function w(){return l.createElement("div",{className:"player-container viewer-attachment-container"},l.createElement("div",{className:"player-container-inner"},l.createElement("span",null,l.createElement("span",null,l.createElement("i",{className:"material-icons"},"insert_drive_file")))))}b.defaultProps={inEmbed:!1},b.propTypes={inEmbed:o().bool};var k=a(1653),N=a(1700),S=a.n(N);function C(){S().dispatch({type:"LOAD_MEDIA_DATA"})}function P(){S().dispatch({type:"LIKE_MEDIA"})}function M(){S().dispatch({type:"UNLIKE_MEDIA"})}function L(){S().dispatch({type:"DISLIKE_MEDIA"})}function x(){S().dispatch({type:"UNDISLIKE_MEDIA"})}function R(e){S().dispatch({type:"REPORT_MEDIA",reportDescription:e?e.replace(/\s/g,""):""})}function I(e){S().dispatch({type:"COPY_SHARE_LINK",inputElement:e})}function D(e){S().dispatch({type:"COPY_EMBED_MEDIA_CODE",inputElement:e})}function T(){S().dispatch({type:"REMOVE_MEDIA"})}function V(e){S().dispatch({type:"SUBMIT_COMMENT",commentText:e})}function O(e){S().dispatch({type:"DELETE_COMMENT",commentId:e})}function F(e){S().dispatch({type:"CREATE_PLAYLIST",playlist_data:e})}function U(e,t){S().dispatch({type:"ADD_MEDIA_TO_PLAYLIST",playlist_id:e,media_id:t})}function z(e,t){S().dispatch({type:"REMOVE_MEDIA_FROM_PLAYLIST",playlist_id:e,media_id:t})}function H(e){S().dispatch({type:"APPEND_NEW_PLAYLIST",playlist_data:e})}class q extends l.PureComponent{render(){return l.createElement("div",{className:"viewer-container",key:"viewer-container-error"},l.createElement("div",{className:"player-container player-container-error"},l.createElement("div",{className:"player-container-inner"},l.createElement("div",{className:"error-container"},l.createElement("div",{className:"error-container-inner"},l.createElement("span",{className:"icon-wrap"},l.createElement("i",{className:"material-icons"},"error_outline")),l.createElement("span",{className:"msg-wrap"},c.A.get("media-load-error-message")))))))}}var W=a(1756),j=a(7236),Y=a(8429),B=a(6415),G=a(6680),Z=a(670),$=a(623),K=a(7510),X=a(3705);const J="comment",Q="Comment",ee="SUBMIT";function te(e){const t=(0,l.useRef)(null),[a,i]=(0,l.useState)(""),[n,s]=(0,l.useState)(!1),[r,o]=(0,l.useState)(!1),[m,u]=(0,l.useState)(-1),[p]=(0,l.useState)(j.A._currentValue.is.anonymous?G.A._currentValue.signin+"?next=/"+window.location.href.replace(d.A._currentValue.url,"").replace(/^\//g,""):null);function h(){t.current.style.height="";const e=t.current.scrollHeight,a=0<m?m:parseFloat(window.getComputedStyle(t.current).lineHeight);i(""),s(!1),u(a),t.current.style.height=Math.max(20,m*Math.ceil(e/a))+"px"}function f(){s(!1)}return(0,l.useEffect)((()=>(c.A.on("comment_submit",h),c.A.on("comment_submit_fail",f),()=>{c.A.removeListener("comment_submit",h),c.A.removeListener("comment_submit_fail",f)}))),j.A._currentValue.is.anonymous?l.createElement("div",{className:"comments-form"},l.createElement("div",{className:"comments-form-inner"},l.createElement(K.c,null),l.createElement("div",{className:"form"},l.createElement("a",{href:p,rel:"noffolow",className:"form-textarea-wrap",title:"Add a "+J+"..."},l.createElement("span",{className:"form-textarea"},"Add a "+J+"...")),l.createElement("div",{className:"form-buttons"},l.createElement("a",{href:p,rel:"noffolow",className:"disabled"},ee))))):l.createElement("div",{className:"comments-form"},l.createElement("div",{className:"comments-form-inner"},l.createElement(K.c,null),l.createElement("div",{className:"form"},l.createElement("div",{className:"form-textarea-wrap"+(r?" focused":"")},l.createElement("textarea",{ref:t,className:"form-textarea",rows:"1",placeholder:"Add a "+J+"...",value:a,onChange:function(e){t.current.style.height="";const a=t.current.scrollHeight,n=0<m?m:parseFloat(window.getComputedStyle(t.current).lineHeight);i(t.current.value),s(!0),u(n),t.current.style.height=Math.max(20,m*Math.ceil(a/n))+"px"},onFocus:function(){o(!0)},onBlur:function(){o(!1)}})),l.createElement("div",{className:"form-buttons"},l.createElement("button",{className:""===a.trim()?"disabled":"",onClick:function(){if(!n)return;const e=t.current.value.trim();""!==e&&V(e)}},ee)))))}te.propTypes={comment_type:o().oneOf(["new","reply"]),media_id:o().oneOfType([o().string,o().number]).isRequired,reply_comment_id:o().oneOfType([o().string,o().number])},te.defaultProps={comment_type:"new"};function ae(e){const[t,a,i]=(0,W.O)();return l.createElement("div",{className:"comment-actions"},j.A._currentValue.can.deleteComment?l.createElement("div",{className:"comment-action remove-comment"},l.createElement(i,{contentRef:t},l.createElement("button",null,"DELETE ","COMMENT")),l.createElement(a,{contentRef:t},l.createElement(X.AP,null,l.createElement("div",{className:"popup-message"},l.createElement("span",{className:"popup-message-title"},Q," removal"),l.createElement("span",{className:"popup-message-main"},"You're willing to remove ",J," permanently?")),l.createElement("hr",null),l.createElement("span",{className:"popup-message-bottom"},l.createElement("button",{className:"button-link cancel-comment-removal",onClick:function(){t.current.toggle()}},"CANCEL"),l.createElement("button",{className:"button-link proceed-comment-removal",onClick:function(){t.current.toggle(),O(e.comment_id)}},"PROCEED"))))):null)}function ie(e){const t=(0,l.useRef)(null),a=(0,l.useRef)(null),[i,n]=(0,l.useState)(!0),[s,r]=(0,l.useState)(!1);return(0,l.useEffect)((()=>()=>{}),[]),l.createElement("div",{className:"comment"},l.createElement("div",{className:"comment-inner"},l.createElement("a",{className:"comment-author-thumb",href:e.author_link,title:e.author_name},l.createElement("img",{src:e.author_thumb,alt:e.author_name})),l.createElement("div",{className:"comment-content"},l.createElement("div",{className:"comment-meta"},l.createElement("div",{className:"comment-author"},l.createElement("a",{href:e.author_link,title:e.author_name},e.author_name)),l.createElement("div",{className:"comment-date"},(0,B.GP)(new Date(e.publish_date)))),l.createElement("div",{ref:t,className:"comment-text"+(i?" show-all":"")},l.createElement("div",{ref:a,className:"comment-text-inner",dangerouslySetInnerHTML:{__html:e.text}})),s?l.createElement("button",{className:"toggle-more",onClick:function(){n(!i)}},i?"Show less":"Read more"):null,j.A._currentValue.can.deleteComment?l.createElement(ae,{comment_id:e.comment_id}):null)))}function ne(e){const[t,a]=(0,l.useState)(c.A.get("media-id")),[i,n]=(0,l.useState)(j.A._currentValue.can.readComment?c.A.get("media-comments"):[]),[s,r]=(0,l.useState)(!1);function o(){!function(){var e=document.querySelector(".page-main"),t=e.querySelector(".no-comment");const a=u.A.get("config-contents").uploader.postUploadMessage;if(""===a)t&&0===comm.length&&t.parentNode.removeChild(t);else if(0===comm.length&&"unlisted"===c.A.get("media-data").state){if(-1<G.A._currentValue.profile.home.indexOf(c.A.get("media-data").author_profile)&&!t){const t=document.createElement("div");t.setAttribute("role","alert"),t.setAttribute("class","alert info alert-dismissible no-comment"),t.innerHTML='<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button>'+a,e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.querySelector("button.close").addEventListener("click",(function(e){return t.setAttribute("class","alert info alert-dismissible hiding"),setTimeout((function(){t.parentNode.removeChild(t)}),400),e.preventDefault(),e.stopPropagation(),!1}))}}else t&&0<comm.length&&t.parentNode.removeChild(t)}(),n(c.A.get("media-comments"))}function m(e){o(),setTimeout((function(){Y.z8(Q+" added","commentSubmit")}),100),console.info("Added "+J+' "'+e+'"')}function p(){setTimeout((function(){Y.z8(Q+" submition failed","commentSubmitFail")}),100)}function h(e){o(),setTimeout((function(){Y.z8(Q+" removed","commentDelete")}),100),console.info("Removed "+J+' "'+e+'"')}function f(e){setTimeout((function(){Y.z8(Q+" removal failed","commentDeleteFail")}),100),console.info(Q+' "'+e+'" removal failed')}return(0,l.useEffect)((()=>{r(i.length&&j.A._currentValue.can.readComment&&(c.A.get("media-data").enable_comments||j.A._currentValue.can.editMedia))}),[i]),(0,l.useEffect)((()=>(c.A.on("comments_load",o),c.A.on("comment_submit",m),c.A.on("comment_submit_fail",p),c.A.on("comment_delete",h),c.A.on("comment_delete_fail",f),()=>{c.A.removeListener("comments_load",o),c.A.removeListener("comment_submit",m),c.A.removeListener("comment_submit_fail",p),c.A.removeListener("comment_delete",h),c.A.removeListener("comment_delete_fail",f)})),[]),l.createElement("div",{className:"comments-list"},l.createElement("div",{className:"comments-list-inner"},!j.A._currentValue.can.readComment||c.A.get("media-data").enable_comments?null:l.createElement("span",{className:"disabled-comments-msg"},"Comments are disabled"),j.A._currentValue.can.readComment&&(c.A.get("media-data").enable_comments||j.A._currentValue.can.editMedia)?l.createElement("h2",null,i.length?1<i.length?i.length+" Comments":i.length+" "+Q:c.A.get("media-data").enable_comments?"No "+J+" yet":""):null,c.A.get("media-data").enable_comments?l.createElement(te,{media_id:t}):null,s?i.map((e=>l.createElement(ie,{key:e.uid,comment_id:e.uid,media_id:t,text:e.text,author_name:e.author_name,author_link:e.author_profile,author_thumb:d.A._currentValue.url+"/"+e.author_thumbnail_url.replace(/^\//g,""),publish_date:e.add_date,likes:0,dislikes:0}))):null))}ie.propTypes={comment_id:o().oneOfType([o().string,o().number]).isRequired,media_id:o().oneOfType([o().string,o().number]).isRequired,text:o().string,author_name:o().string,author_link:o().string,author_thumb:o().string,publish_date:o().oneOfType([o().string,o().number]),likes:o().number,dislikes:o().number},ie.defaultProps={author_name:"",author_link:"#",publish_date:0,likes:0,dislikes:0};var le=a(497),se=a.n(le),re=a(7030),oe=a(4443),de=a(6738);class ce extends(se()){constructor(){super(),this.mediacms_config=(0,de.$)(window.MediaCMS),this.browserCache=new re.A(this.mediacms_config.site.id,86400),this.data={media_id:null,extendedRateCategories:this.browserCache.get("extended-rate-categories")},this.data.extendedRateCategories=null===this.data.extendedRateCategories?!this.mediacms_config.member.is.anonymous:!!this.data.extendedRateCategories}requestRate(e,t){(0,oe.MB)(this.mediacms_config.api.media+"/"+this.data.media_id+"/actions",{type:"rate",extra_info:{score:t,category_id:e}},{headers:{"X-CSRFToken":(0,oe.m5)()}},!1,this.succeedRateResponse.bind(this,e,t),this.failedRateResponse.bind(this,e,t))}succeedRateResponse(e,t,a){this.emit("succeed_rate_submit["+e+"]",t)}failedRateResponse(e,t,a){this.emit("failed_rate_submit["+e+"]",t)}get(e){return"extended-rate-categories"===e?this.data.extendedRateCategories:null}actions_handler(e){switch(e.type){case"INIT":this.data.media_id=e.media_id;break;case"EXTEND_RATE_CATEGORIES":this.data.extendedRateCategories=!this.data.extendedRateCategories,this.browserCache.set("extended-rate-categories",this.data.extendedRateCategories?1:0),this.emit("changed_rate_categories_visibility");break;case"RATE_SUBMIT":this.requestRate(e.id,e.score)}}}var me=(0,oe.ey)(new ce,"actions_handler"),ue=a(2041);class pe extends l.PureComponent{constructor(e){super(e),this.initialScore=e.score,this.state={score:e.score,initialScore:e.score,submitingScore:!1,message:null},this.submitRate=this.submitRate.bind(this),this.closeRateMessage=this.closeRateMessage.bind(this),this.onSucceedRateSubmit=this.onSucceedRateSubmit.bind(this),this.onFailedRateSubmit=this.onFailedRateSubmit.bind(this),me.on("succeed_rate_submit["+e.id+"]",this.onSucceedRateSubmit),me.on("failed_rate_submit["+e.id+"]",this.onFailedRateSubmit)}closeRateMessage(){this.setState({message:null})}onSucceedRateSubmit(e){this.setState({initialScore:e,submitingScore:!1,message:'Thank you for your rating in category of "<strong>'+this.props.title+'</strong>".'})}onFailedRateSubmit(e){this.setState({submitingScore:!1,message:'A problem has occurred when submitting your score for the category of "<strong>'+this.props.title+'</strong>". Please try again.'})}onButtonClick(e){this.setState({score:e})}submitRate(){this.setState({submitingScore:!0},(function(){var e,t;e=this.props.id,t=this.state.score,S().dispatch({type:"RATE_SUBMIT",id:e,score:t})}))}stars(){const e=[];let t=1;for(;t<6;)e.push(l.createElement("div",{key:t,className:(t<=this.state.score?"active":"")+(t===this.state.score?" selected":"")},l.createElement(Z.i,{onClick:this.onButtonClick.bind(this,t)},l.createElement("i",{className:"material-icons"},"star_rate")))),t+=1;return e}render(){return l.createElement("div",{className:"rating-category"+(this.state.submitingScore||null!==this.state.message?" submit-loading":"")},l.createElement("div",{className:"category-title"},this.props.title),l.createElement("div",{className:"stars"},this.stars()),l.createElement("div",{className:"rate-action"},l.createElement("button",{disabled:this.state.score===this.state.initialScore,onClick:this.state.score===this.state.initialScore?null:this.submitRate},"Submit score")),this.state.submitingScore?l.createElement("div",{className:"submit-loader"},l.createElement(ue.x,null)):null,null!==this.state.message?l.createElement("div",{className:"submit-loader"},l.createElement("div",{className:"submit-msg"},l.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.message}})),l.createElement(Z.i,{className:"close-msg",onClick:this.closeRateMessage},l.createElement("i",{className:"material-icons"},"clear"))):null)}}pe.propTypes={id:o().oneOfType([o().string,o().number]).isRequired,title:o().string.isRequired,score:o().number.isRequired};class he extends l.PureComponent{constructor(e){super(e),this.state={extended:me.get("extended-rate-categories")},this.onClickExtend=this.onClickExtend.bind(this),this.onRateCategoriesToggle=this.onRateCategoriesToggle.bind(this),me.on("changed_rate_categories_visibility",this.onRateCategoriesToggle)}componentDidMount(){var e;e=this.props.media_id,S().dispatch({type:"INIT",media_id:e})}onClickExtend(){S().dispatch({type:"EXTEND_RATE_CATEGORIES"})}onRateCategoriesToggle(){this.setState({extended:me.get("extended-rate-categories")})}ratingCategories(){const e=[];let t=0;for(;t<this.props.ratings_data.length;)e.push(l.createElement(pe,{key:t,id:this.props.ratings_data[t].category_id,title:this.props.ratings_data[t].category_title,score:this.props.ratings_data[t].score})),t+=1;return e}render(){let e;return j.A._currentValue.is.anonymous&&(e=window.location.href.replace(d.A._currentValue.url,"").replace(/^\//g,""),e=G.A._currentValue.signin+"?next=/"+e),l.createElement("div",{className:"ratings-container"+(this.state.extended?" extended":"")},l.createElement("button",{className:"extend-rating-form",onClick:this.onClickExtend},"Rate the film ",l.createElement(Z.i,{type:"span"},l.createElement("i",{className:"material-icons"},this.state.extended?"keyboard_arrow_up":"keyboard_arrow_down"))),l.createElement("div",{className:"rating-categories"},j.A._currentValue.is.anonymous?l.createElement("div",{className:"rating-category need-login"},l.createElement("div",{className:"category-title"},"Ιn order to be able to rate the film you need to be signed in"),l.createElement("div",{className:"rate-action"},l.createElement("a",{href:e,title:"Sign in"},"SIGN IN"))):this.ratingCategories()))}}function fe(e){let t,a,i=[];if(e.length)for(t=0,a=1<e.length?", ":"";t<e.length;)i[t]=l.createElement("div",{key:t},l.createElement("a",{href:e[t].url,title:e[t].title},e[t].title),t<e.length-1?a:""),t+=1;return i}function ge(e){return l.createElement("div",{className:"media-author-banner"},l.createElement("div",null,l.createElement("a",{className:"author-banner-thumb",href:e.link||null,title:e.name},l.createElement("span",{style:{backgroundImage:"url("+e.thumb+")"}},l.createElement("img",{src:e.thumb,loading:"lazy",alt:e.name,title:e.name})))),l.createElement("div",null,l.createElement("span",null,l.createElement("a",{href:e.link,className:"author-banner-name",title:e.name},l.createElement("span",null,e.name)))))}function ye(e){return l.createElement("div",{className:"media-content-languages"},l.createElement("div",{className:"media-content-field"},l.createElement("div",{className:"media-content-field-label"},l.createElement("h4",null,e.title)),l.createElement("div",{className:"media-content-field-content"},e.value)))}function Ee(e){return l.createElement("a",{href:e.link,rel:"nofollow",title:"Edit media",className:"edit-media"},"EDIT MEDIA")}function ve(e){return l.createElement("a",{href:e.link,rel:"nofollow",title:"Edit subtitle",className:"edit-subtitle"},"EDIT SUBTITLE")}function be(e){const t=e.description.trim(),a=c.A.get("media-production-company"),i=c.A.get("media-website"),n=c.A.get("media-license-info"),s=fe(c.A.get("media-languages")),r=fe(c.A.get("media-topics")),o=!u.A.get("config-enabled").taxonomies.tags||u.A.get("config-enabled").taxonomies.tags.enabled?fe(c.A.get("media-tags")):[],m=u.A.get("config-options").pages.media.categoriesWithTitle?[]:!u.A.get("config-enabled").taxonomies.categories||u.A.get("config-enabled").taxonomies.categories.enabled?fe(c.A.get("media-categories")):[];let p=c.A.get("media-summary");p=p?p.trim():"";const[h,g,y]=(0,W.O)(),[E,v]=(0,l.useState)(""!==p),[b,_]=(0,l.useState)(""==p);function A(){T(),h.current.toggle()}function w(){h.current.toggle()}function k(e){setTimeout((function(){Y.z8("Media removed. Redirecting...","mediaDelete"),setTimeout((function(){window.location.href=d.A._currentValue.url+"/"+c.A.get("media-data").author_profile.replace(/^\//g,"")}),2e3)}),100),void 0!==e&&console.info("Removed media '"+e+'"')}function N(e){setTimeout((function(){Y.z8("Media removal failed","mediaDeleteFail")}),100),void 0!==e&&console.info('Media "'+e+'" removal failed')}function S(){_(!b)}(0,l.useEffect)((()=>(c.A.on("media_delete",k),c.A.on("media_delete_fail",N),()=>{c.A.removeListener("media_delete",k),c.A.removeListener("media_delete_fail",N)})),[]);const C=(0,f.c)(e.author.url,d.A._currentValue.url),P=(0,f.c)(e.author.thumb,d.A._currentValue.url);let M=c.A.get("media-data").ratings_info;void 0!==M&&M.length||(M=null);const L=null!==n&&""!==n?"License":"Copyright";let x;return x=null!==n&&""!==n?l.createElement("a",{href:n.url,title:n.title,className:"media-license-link",target:"_blank",rel:"nofollow"},l.createElement("span",null,l.createElement("img",{src:n.thumbnail,alt:""})),l.createElement("span",null,n.title)):l.createElement("span",null,"All rights reserved."),l.createElement(j.O,null,(n=>l.createElement("div",{className:"media-info-content"},void 0===u.A.get("config-media-item").displayAuthor||null===u.A.get("config-media-item").displayAuthor||u.A.get("config-media-item").displayAuthor?l.createElement(ge,{link:C,thumb:P,name:e.author.name,published:e.published}):null,l.createElement("div",{className:"media-content-banner"+(null!==a&&""!==a?" large-fields-title":"")},l.createElement("div",{className:"media-content-banner-inner"},E?l.createElement("div",{className:"media-content-summary"},p):null,E&&!b||!t?null:u.A.get("config-options").pages.media.htmlInDescription?l.createElement("div",{className:"media-content-description",dangerouslySetInnerHTML:{__html:t}}):l.createElement("div",{className:"media-content-description"},t),E?l.createElement("button",{className:"load-more",onClick:S},b?"SHOW LESS":"SHOW MORE"):null,s.length?l.createElement(ye,{value:s,title:1<s.length?"Languages":"Language"}):null,!!e.yearProduced&&l.createElement(ye,{value:l.createElement("span",{className:"media-year-produced"},e.yearProduced),title:"Year produced"}),r.length?l.createElement(ye,{value:r,title:1<r.length?"Topics":"Topic"}):null,m.length?l.createElement(ye,{value:m,title:1<m.length?"Categories":"Category"}):null,null!==a&&""!==a?l.createElement(ye,{value:a,title:"Production company"}):null,i&&l.createElement(ye,{value:l.createElement("a",{href:i,target:"_blank",rel:"noreferrer noopener"},i),title:"Website"}),c.A.get("display-media-license-info")?l.createElement(ye,{value:x,title:L}):null,o.length?l.createElement(ye,{value:o,title:1<o.length?"Tags":"Tag"}):null,n.can.editMedia||n.can.editSubtitle||n.can.deleteMedia?l.createElement("div",{className:"media-author-actions"},n.can.editMedia?l.createElement(Ee,{link:c.A.get("media-data").edit_url}):null,n.can.editSubtitle&&"video"===c.A.get("media-data").media_type?l.createElement(ve,{link:c.A.get("media-data").edit_url.replace("edit?","add_subtitle?")}):null,l.createElement(y,{contentRef:h},l.createElement("button",{className:"remove-media"},"DELETE MEDIA")),l.createElement(g,{contentRef:h},l.createElement(X.AP,null,l.createElement("div",{className:"popup-message"},l.createElement("span",{className:"popup-message-title"},"Media removal"),l.createElement("span",{className:"popup-message-main"},"You're willing to remove media permanently?")),l.createElement("hr",null),l.createElement("span",{className:"popup-message-bottom"},l.createElement("button",{className:"button-link cancel-comment-removal",onClick:w},"CANCEL"),l.createElement("button",{className:"button-link proceed-comment-removal",onClick:A},"PROCEED"))))):null)),null!==M?l.createElement(he,{media_id:c.A.get("media-id"),ratings_data:M}):null,l.createElement(ne,null))))}he.propTypes={media_id:o().string.isRequired,ratings_data:o().array.isRequired};var _e=l.createContext((0,de.$)(window.MediaCMS).playlists);const Ae={notifications:(0,de.$)(window.MediaCMS).notifications.messages},we=l.createContext(Ae);we.Consumer;var ke=we;function Ne(e){(0,l.useRef)(null);const[t,a]=(0,l.useState)(c.A.get("user-liked-media")),[n,s]=(0,l.useState)((0,oe.ZV)(c.A.get("media-likes"),!1));function r(){a(c.A.get("user-liked-media")),s((0,oe.ZV)(c.A.get("media-likes"),!1))}function o(){r(),Y.z8(ke._currentValue.addToLiked,"likedMedia")}function d(){r(),Y.z8(ke._currentValue.removeFromLiked,"unlikedMedia")}function m(){Y.z8("Action failed","likedMediaRequestFail")}return(0,l.useEffect)((()=>(c.A.on("liked_media",o),c.A.on("unliked_media",d),c.A.on("liked_media_failed_request",m),()=>{c.A.removeListener("liked_media",o),c.A.removeListener("unliked_media",d),c.A.removeListener("liked_media_failed_request",m)})),[]),l.createElement("div",{className:"like"},l.createElement("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),i[t?"unlikeMedia":"likeMedia"]()}},l.createElement(Z.i,{type:"span"},l.createElement($.Z,{type:"thumb_up"})),l.createElement("span",{className:"likes-counter"},n)))}function Se(e){(0,l.useRef)(null);const[t,a]=(0,l.useState)(c.A.get("user-liked-media")),[n,s]=(0,l.useState)((0,oe.ZV)(c.A.get("media-likes"),!1));function r(){a(c.A.get("user-disliked-media")),s((0,oe.ZV)(c.A.get("media-dislikes"),!1))}function o(){r(),Y.z8(ke._currentValue.messages.addToDisliked,"mediaDislike")}function d(){r(),Y.z8(ke._currentValue.messages.removeFromDisliked,"cancelMediaDislike")}function m(){Y.z8("Action failed","mediaDislikeRequestFail")}return(0,l.useEffect)((()=>(c.A.on("disliked_media",o),c.A.on("undisliked_media",d),c.A.on("disliked_media_failed_request",m),()=>{c.A.removeListener("disliked_media",o),c.A.removeListener("undisliked_media",d),c.A.removeListener("disliked_media_failed_request",m)})),[]),l.createElement("div",{className:"like"},l.createElement("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),i[t?"undislikeMedia":"dislikeMedia"]()}},l.createElement(Z.i,{type:"span"},l.createElement($.Z,{type:"thumb_down"})),l.createElement("span",{className:"dislikes-counter"},n)))}function Ce(e){return l.createElement("div",{className:"download hidden-only-in-small"},l.createElement("a",{href:e.link,target:"_blank",download:e.title,title:"Download"},l.createElement(Z.i,{type:"span"},l.createElement($.Z,{type:"arrow_downward"})),l.createElement("span",null,"DOWNLOAD")))}Ce.propTypes={link:o().string.isRequired,title:o().string.isRequired};var Pe=a(3902),Me=a(4397);function Le(){const e=c.A.get("media-data"),t=(e.title,e.encodings_info),a={};let i,n;for(i in t)if(t.hasOwnProperty(i)&&Object.keys(t[i]).length)for(n in t[i])if(t[i].hasOwnProperty(n)&&"success"===t[i][n].status&&100===t[i][n].progress){let l=e.title+"_"+i+"_"+n;l+="vp9"===n?".webm":".mp4",a[t[i][n].title]={text:i+" - "+n.toUpperCase()+" ("+t[i][n].size+")",link:(0,f.c)(t[i][n].url,d.A._currentValue.url),linkAttr:{target:"_blank",download:l}}}return a.original_media_url={text:"Original file ("+e.size+")",link:(0,f.c)(e.original_media_url,d.A._currentValue.url),linkAttr:{target:"_blank",download:e.title}},Object.values(a)}function xe(e){const[t,a,i]=(0,W.O)(),[n,s]=(0,l.useState)("main");return l.createElement("div",{className:"video-downloads hidden-only-in-small"},l.createElement(i,{contentRef:t},l.createElement("button",null,l.createElement(Z.i,{type:"span"},l.createElement($.Z,{type:"arrow_downward"})),l.createElement("span",null,"DOWNLOAD"))),l.createElement("div",{className:"nav-page-"+n},l.createElement(a,{contentRef:t},l.createElement(Me.V,{pageChangeCallback:null,initPage:"main",focusFirstItemOnPageChange:!1,pages:{main:l.createElement("div",{className:"main-options"},l.createElement(X.AP,null,l.createElement(Pe.S,{items:Le()})))},pageChangeSelector:".change-page",pageIdSelectorAttr:"data-page-id"}))))}const Re={};class Ie extends(se()){constructor(){super(),this.mediacms_config=(0,de.$)(window.MediaCMS),Re[Object.defineProperty(this,"id",{value:"PlaylistPageStoreData_"+Object.keys(Re).length}).id]={playlistId:null,data:{}},this.data={savedPlaylist:!1,publishDate:new Date(2018,3,14,1,13,22,0),publishDateLabel:null},this.onPlaylistUpdateCompleted=this.onPlaylistUpdateCompleted.bind(this),this.onPlaylistUpdateFailed=this.onPlaylistUpdateFailed.bind(this),this.onPlaylistRemovalCompleted=this.onPlaylistRemovalCompleted.bind(this),this.onPlaylistRemovalFailed=this.onPlaylistRemovalFailed.bind(this)}loadData(){if(!Re[this.id].playlistId)return console.warn("Invalid playlist id:",Re[this.id].playlistId),!1;this.playlistAPIUrl=this.mediacms_config.api.playlists+"/"+Re[this.id].playlistId,this.dataResponse=this.dataResponse.bind(this),this.dataErrorResponse=this.dataErrorResponse.bind(this),(0,oe.iq)(this.playlistAPIUrl,!1,this.dataResponse,this.dataErrorResponse)}dataResponse(e){e&&e.data&&(Re[this.id].data=e.data,this.emit("loaded_playlist_data"))}dataErrorResponse(e){this.emit("loaded_playlist_error"),e.type}get(e){switch(e){case"playlistId":return Re[this.id].playlistId||null;case"logged-in-user-playlist":return!this.mediacms_config.member.is.anonymous&&Re[this.id].data.user===this.mediacms_config.member.username;case"playlist-media":return Re[this.id].data.playlist_media||[];case"visibility":return"public";case"visibility-icon":switch(this.get("visibility")){case"unlisted":return l.createElement("i",{className:"material-icons"},"insert_link");case"private":return l.createElement("i",{className:"material-icons"},"lock")}return null;case"total-items":return Re[this.id].data.playlist_media.length||0;case"views-count":return"N/A";case"title":return Re[this.id].data.title||null;case"edit-link":return"#";case"thumb":return Re[this.id].data.playlist_media&&Re[this.id].data.playlist_media.length?Re[this.id].data.playlist_media[0].thumbnail_url:null;case"description":return Re[this.id].data.description||null;case"author-username":case"author-name":return Re[this.id].data.user||null;case"author-link":return Re[this.id].data.user?this.mediacms_config.site.url+"/user/"+Re[this.id].data.user:null;case"author-thumb":return Re[this.id].data.user_thumbnail_url?this.mediacms_config.site.url+"/"+Re[this.id].data.user_thumbnail_url.replace(/^\//g,""):null;case"saved-playlist":return this.data.savedPlaylist;case"date-label":return Re[this.id].data&&Re[this.id].data.add_date?(this.data.publishDateLabel=this.data.publishDateLabel||"Created on "+(0,oe.w$)(new Date(Re[this.id].data.add_date),3),this.data.publishDateLabel):null}return null}onPlaylistUpdateCompleted(e){e&&e.data&&(Re[this.id].data.title=e.data.title,Re[this.id].data.description=e.data.description,this.emit("playlist_update_completed",e.data))}onPlaylistUpdateFailed(){this.emit("playlist_update_failed")}onPlaylistRemovalCompleted(e){e&&void 0!==e.status&&403!==e.status?this.emit("playlist_removal_completed",e):this.onPlaylistRemovalFailed()}onPlaylistRemovalFailed(){this.emit("playlist_removal_failed")}actions_handler(e){switch(e.type){case"LOAD_PLAYLIST_DATA":Re[this.id].playlistId=window.MediaCMS.playlistId||((t=window.location.href.split("/")).length?t[t.length-1]:null),this.loadData();break;case"TOGGLE_SAVE":this.data.savedPlaylist=!this.data.savedPlaylist,this.emit("saved-updated");break;case"UPDATE_PLAYLIST":(0,oe.MB)(this.playlistAPIUrl,{title:e.playlist_data.title,description:e.playlist_data.description},{headers:{"X-CSRFToken":(0,oe.m5)()}},!1,this.onPlaylistUpdateCompleted,this.onPlaylistUpdateFailed);break;case"REMOVE_PLAYLIST":(0,oe.Fb)(this.playlistAPIUrl,{headers:{"X-CSRFToken":(0,oe.m5)()}},!1,this.onPlaylistRemovalCompleted,this.onPlaylistRemovalFailed);break;case"PLAYLIST_MEDIA_REORDERED":Re[this.id].data.playlist_media=e.playlist_media,this.emit("reordered_media_in_playlist");break;case"MEDIA_REMOVED_FROM_PLAYLIST":const a=[];let i=0;for(;i<Re[this.id].data.playlist_media.length;)e.media_id!==Re[this.id].data.playlist_media[i].url.split("=")[1]&&a.push(Re[this.id].data.playlist_media[i]),i+=1;Re[this.id].data.playlist_media=a,this.emit("removed_media_from_playlist")}var t}}var De=(0,oe.ey)(new Ie,"actions_handler"),Te=a(4681),Ve=a(549);function Oe(e){const t=(0,l.useRef)(null),a=(0,l.useRef)(null),i=(0,l.useRef)(null),n=(0,l.useRef)(null),[s,r]=(0,l.useState)(e.id||null),[o,d]=(0,l.useState)(e.id?De.get("title"):""),[m,u]=(0,l.useState)(e.id?De.get("description"):""),[p,h]=(0,l.useState)(-1);function f(t){setTimeout((function(){Y.z8("Playlist created","playlistCreationCompleted");const a={playlist_id:function(e){let t=e.split("/");return 1<t.length?t[t.length-1]:null}(t.url),add_date:t.add_date,description:t.description,title:t.title,media_list:[]};e.onPlaylistSave(a)}),100)}function g(){setTimeout((function(){Y.z8("Playlist creation failed","playlistCreationFailed")}),100)}return(0,l.useEffect)((()=>(c.A.on("playlist_creation_completed",f),c.A.on("playlist_creation_failed",g),a.current.focus(),()=>{c.A.removeListener("playlist_creation_completed",f),c.A.removeListener("playlist_creation_failed",g)})),[]),l.createElement("div",{className:"playlist-form-wrap"},l.createElement("div",{className:"playlist-form-field playlist-title",ref:t},l.createElement("span",{className:"playlist-form-label"},"Title"),l.createElement("input",{ref:a,type:"text",placeholder:"Enter playlist title...",value:o,onChange:function(){d(a.current.value)},onFocus:function(){(0,Ve.zc)(t.current,"focused")},onBlur:function(){(0,Ve.qk)(t.current,"focused")},onClick:function(){(0,Ve.qk)(t.current,"invalid")}})),l.createElement("div",{className:"playlist-form-field playlist-description",ref:i},l.createElement("span",{className:"playlist-form-label"},"Description"),l.createElement("textarea",{ref:n,rows:"1",placeholder:"Enter playlist description...",value:m,onChange:function(){n.current.style.height="";const e=n.current.scrollHeight-2,t=0<p?p:parseFloat(window.getComputedStyle(n.current).lineHeight);n.current.style.height=3+Math.max(21,t*Math.floor(e/t))+"px",h(t),u(n.current.value)},onFocus:function(){(0,Ve.zc)(i.current,"focused")},onBlur:function(){(0,Ve.qk)(i.current,"focused")}})),l.createElement("div",{className:"playlist-form-actions"},l.createElement("button",{className:"cancel-btn",onClick:function(){e.onCancel()}},"CANCEL"),l.createElement("button",{className:"create-btn",onClick:function(){let e=a.current.value.trim();if(""!==e){let t=n.current.value.trim();s?Te.i5({title:e,description:t}):F({title:e,description:t})}else(0,Ve.zc)(t.current,"invalid")}},s?"UPDATE":"CREATE")))}function Fe(e){return e.renderDate?l.createElement("label",null,l.createElement("input",{type:"checkbox",checked:e.isChecked,onChange:function(t){t.persist(),e.isChecked?z(e.playlistId,c.A.get("media-id")):U(e.playlistId,c.A.get("media-id"))}}),l.createElement("span",null,e.title)):null}function Ue(e){const t=(0,l.useRef)(null),a=(0,l.useRef)(null),[i,n]=(0,l.useState)(new Date),[s,r]=(0,l.useState)(c.A.get("playlists")),[o,d]=(0,l.useState)(!1),[m,p]=(0,l.useState)("tab1");function h(){b()}function f(){r(c.A.get("playlists")),n(new Date)}function g(){r(c.A.get("playlists")),n(new Date),setTimeout((function(){Y.z8("Media added to playlist","playlistMediaAdditionComplete")}),100)}function y(){setTimeout((function(){Y.z8("Media's addition to playlist failed","playlistMediaAdditionFail")}),100)}function E(){r(c.A.get("playlists")),n(new Date),setTimeout((function(){Y.z8("Media removed from playlist","playlistMediaRemovalComplete")}),100)}function v(){setTimeout((function(){Y.z8("Media's removal from playlist failed","playlistMediaaRemovalFail")}),100)}function b(){null!==a.current&&(a.current.style.maxHeight=window.innerHeight-74-(t.current.offsetHeight-a.current.offsetHeight)+"px")}function _(){d(!1),void 0!==e.triggerPopupClose&&e.triggerPopupClose()}return(0,l.useEffect)((()=>{b()})),(0,l.useEffect)((()=>(u.A.on("window_resize",h),c.A.on("playlists_load",f),c.A.on("media_playlist_addition_completed",g),c.A.on("media_playlist_addition_failed",y),c.A.on("media_playlist_removal_completed",E),c.A.on("media_playlist_removal_failed",v),()=>{u.A.removeListener("window_resize",h),c.A.removeListener("playlists_load",f),c.A.removeListener("media_playlist_addition_completed",g),c.A.removeListener("media_playlist_addition_failed",y),c.A.removeListener("media_playlist_removal_completed",E),c.A.removeListener("media_playlist_removal_failed",v)})),[]),l.createElement("div",{ref:t,className:"saveto-popup"},l.createElement("div",{className:"hw-tabs"},l.createElement(Z.i,{type:"button",onClick:_},l.createElement($.Z,{type:"close"})),l.createElement("ul",{className:"nav"},l.createElement("li",{className:"tab1"===m?"active":"",onClick:()=>{p("tab1")}},l.createElement("span",null,"Save to")),l.createElement("li",{className:"tab2"===m?"active":"",onClick:()=>{p("tab2")}},l.createElement("span",null,"Create new"))),l.createElement("div",{className:"outlet"},"tab1"===m?l.createElement("div",{className:"FirstTab"},s.length?l.createElement("div",{ref:a,className:"saveto-select"},function(){const e=c.A.get("media-id");let t=[],a=0;for(;a<s.length;)t.push(l.createElement("div",{key:"playlist_"+s[a].playlist_id},l.createElement(Fe,{renderDate:i,title:s[a].title,privacy:s[a].status,isChecked:-1<s[a].media_list.indexOf(e),playlistId:s[a].playlist_id}))),a+=1;return t}()):l.createElement("div",{className:"saveto-select"},"There are no any playlists yet.")):l.createElement("div",{className:"SecondTab"},l.createElement("div",{className:"saveto-new-playlist"},l.createElement(Oe,{onCancel:_,onPlaylistSave:function(e){const t=c.A.get("media-id");H(e),U(e.playlist_id,t),_()}}))))))}function ze(e){const[t,a,i]=(0,W.O)(),[n,s]=(0,l.useState)("selectPlaylist");return l.createElement("div",{className:"save"},l.createElement(i,{contentRef:t},l.createElement("button",null,l.createElement(Z.i,{type:"span"},l.createElement($.Z,{type:"playlist_add"})),l.createElement("span",null,"SAVE"))),l.createElement(a,{contentRef:t},l.createElement(Me.V,{initPage:n,pageChangeSelector:".change-page",pageIdSelectorAttr:"data-page-id",pages:(r=function(){t.current.toggle()},{selectPlaylist:l.createElement("div",{className:"popup-fullscreen"},l.createElement(X.AP,null,l.createElement("span",{className:"popup-fullscreen-overlay"}),l.createElement(Ue,{triggerPopupClose:r}))),createPlaylist:l.createElement("div",{className:"popup-fullscreen"},l.createElement(X.AP,null,l.createElement("span",{className:"popup-fullscreen-overlay"})))}),focusFirstItemOnPageChange:!1,pageChangeCallback:s})));var r}Oe.propTypes={id:o().string,onCancel:o().func.isRequired,onPlaylistSave:o().func.isRequired},Fe.propTypes={playlistId:o().string,isChecked:o().bool,title:o().string},Fe.defaultProps={isChecked:!1,title:""},Ue.propTypes={triggerPopupClose:o().func};var He=a(174);function qe(e){const t=(0,l.useRef)(null),a=(0,l.useRef)(null),[i,n]=(0,l.useState)(null),[s,r]=(0,l.useState)(null);return(0,l.useEffect)((()=>{n(function(e,t,a){if(void 0!==e){let i=null;return i=void 0!==t&&t>e?t:e,i=void 0!==a&&a<i?a:i,i}return void 0!==t?t:void 0!==a?a:void 0}(0+e.defaultValue,e.minValue,e.maxValue)),r(function(e,t){if(!t||!t.length)return null;let a=0;for(;a<t.length;){if(void 0!==t[a].key&&e===t[a].key)return t[a].key;a+=1}return t[0].key}(e.defaultUnit,e.units))})),l.createElement("div",{className:"num-value-unit"},void 0!==e.label?l.createElement("span",{className:"label"},e.label):null,l.createElement("input",{ref:t,className:"value-input",type:"number",value:null!==i?i:"",min:void 0!==e.minValue?e.minValue:null,max:void 0!==e.maxValue?e.maxValue:null,onChange:function(){n(t.current.value),void 0!==e.valueCallback&&e.valueCallback(t.current.value)}}),l.createElement("select",{ref:a,className:"value-unit",onChange:function(){r(a.current.value),void 0!==e.unitCallback&&e.unitCallback(a.current.value)},value:null!==s?s:""},function(){if(!e.units.length)return null;const t=[];let a=0;for(;a<e.units.length;)void 0!==e.units[a].key&&t.push(l.createElement("option",{key:e.units[a].key,value:e.units[a].key},void 0!==e.units[a].label?e.units[a].label:e.units[a].key)),a+=1;return t}()))}function We(e){const t=u.A.get("config-options").embedded.video.dimensions,a=(0,l.useContext)(G.A),i=(0,l.useRef)(null),n=(0,l.useRef)(null),r=(0,l.useRef)(null),o=(0,l.useRef)(null),d=(0,l.useRef)(null),[m,p]=(0,l.useState)(window.innerHeight-144+56),[h,f]=(0,l.useState)(!1),[g,y]=(0,l.useState)("16:9"),[E,v]=(0,l.useState)(t.width),[b,_]=(0,l.useState)(t.widthUnit),[A,w]=(0,l.useState)(t.height),[k,N]=(0,l.useState)(t.heightUnit),[S,C]=(0,l.useState)(60),[P,M]=(0,l.useState)(60),[L,x]=(0,l.useState)([{key:"px",label:"px"},{key:"percent",label:"%"}]);function R(){p(window.innerHeight-144+56),C(r.current.offsetHeight),M(d.current.offsetHeight)}function I(){setTimeout((function(){Y.z8("Embed media code copied to clipboard","clipboardEmbedMediaCodeCopy")}),100)}return(0,l.useEffect)((()=>{p(window.innerHeight-144+56),C(r.current.offsetHeight),M(d.current.offsetHeight)})),(0,l.useEffect)((()=>(u.A.on("window_resize",R),c.A.on("copied_embed_media_code",I),()=>{u.A.removeListener("window_resize",R),c.A.removeListener("copied_embed_media_code",I)})),[]),l.createElement("div",{className:"share-embed",style:{maxHeight:m+"px"}},l.createElement("div",{className:"share-embed-inner"},l.createElement("div",{className:"on-left"},l.createElement("div",{className:"media-embed-wrap"},l.createElement(s.A,{data:c.A.get("media-data"),inEmbed:!0}))),l.createElement("div",{ref:n,className:"on-right"},l.createElement("div",{ref:r,className:"on-right-top"},l.createElement("div",{className:"on-right-top-inner"},l.createElement("span",{className:"ttl"},"Embed Video"),l.createElement(Z.i,{type:"button",onClick:function(){void 0!==e.triggerPopupClose&&e.triggerPopupClose()}},l.createElement($.Z,{type:"close"})))),l.createElement("div",{ref:o,className:"on-right-middle",style:{top:S+"px",bottom:P+"px"}},l.createElement("textarea",{readOnly:!0,value:'<iframe width="'+("percent"===b?E+"%":E)+'" height="'+("percent"===k?A+"%":A)+'" src="'+a.embed+c.A.get("media-id")+'" frameborder="0" allowfullscreen></iframe>'}),l.createElement("div",{className:"iframe-config"},l.createElement("div",{className:"iframe-config-options-title"},"Embed options"),l.createElement("div",{className:"iframe-config-option"},l.createElement("div",{className:"option-content"},l.createElement("div",{className:"ratio-options"},l.createElement("div",{className:"options-group"},l.createElement("label",{style:{minHeight:"36px"}},l.createElement("input",{type:"checkbox",checked:h,onChange:function(){const e=!h,t=g.split(":"),a=t[0],i=t[1];f(e),_(e?"px":b),N(e?"px":k),w(e?parseInt(E*i/a,10):A),x(e?[{key:"px",label:"px"}]:[{key:"px",label:"px"},{key:"percent",label:"%"}])}}),"Keep aspect ratio")),h?l.createElement("div",{className:"options-group"},l.createElement("select",{ref:i,onChange:function(){const e=i.current.value,t=e.split(":"),a=t[0],n=t[1];y(e),w(h?parseInt(E*n/a,10):A)},value:g},l.createElement("optgroup",{label:"Horizontal orientation"},l.createElement("option",{value:"16:9"},"16:9"),l.createElement("option",{value:"4:3"},"4:3"),l.createElement("option",{value:"3:2"},"3:2")),l.createElement("optgroup",{label:"Vertical orientation"},l.createElement("option",{value:"9:16"},"9:16"),l.createElement("option",{value:"3:4"},"3:4"),l.createElement("option",{value:"2:3"},"2:3")))):null),l.createElement("br",null),l.createElement("div",{className:"options-group"},l.createElement(qe,{valueCallback:function(e){e=""===e?0:e;const t=g.split(":"),a=t[0],i=t[1];v(e),w(h?parseInt(e*i/a,10):A)},unitCallback:function(e){_(e)},label:"Width",defaultValue:parseInt(E,10),defaultUnit:b,minValue:1,maxValue:99999,units:L})),l.createElement("div",{className:"options-group"},l.createElement(qe,{valueCallback:function(e){e=""===e?0:e;const t=g.split(":"),a=t[0],i=t[1];w(e),v(h?parseInt(e*a/i,10):E)},unitCallback:function(e){N(e)},label:"Height",defaultValue:parseInt(A,10),defaultUnit:k,minValue:1,maxValue:99999,units:L})))))),l.createElement("div",{ref:d,className:"on-right-bottom"},l.createElement("button",{onClick:function(){D(o.current.querySelector("textarea"))}},"COPY")))))}qe.propTypes={label:o().string,units:o().array.isRequired,defaultUnit:o().string,defaultValue:o().number,minValue:o().number,maxValue:o().number,valueCallback:o().func,unitCallback:o().func},We.propTypes={triggerPopupClose:o().func};var je=a(9431),Ye=l.createContext((0,de.$)(window.MediaCMS).media.share.options);function Be(e){let{onClick:t}=e;return l.createElement("span",{className:"next-slide"},l.createElement(Z.i,{buttonShadow:!0,onClick:t},l.createElement("i",{className:"material-icons"},"keyboard_arrow_right")))}function Ge(e){let{onClick:t}=e;return l.createElement("span",{className:"previous-slide"},l.createElement(Z.i,{buttonShadow:!0,onClick:t},l.createElement("i",{className:"material-icons"},"keyboard_arrow_left")))}function Ze(){return{maxFormContentHeight:je.A.get("container-height")-196,maxPopupWidth:518>je.A.get("container-width")-80?je.A.get("container-width")-80:null}}function $e(e){const t=(0,l.useRef)(null),a=(0,l.useRef)(null),i=c.A.get("media-url"),[n,s]=(0,l.useState)(null),[r,o]=(0,l.useState)({prev:!1,next:!1}),[d,m]=(0,l.useState)(Ze()),[p]=(0,l.useState)(function(){const e=function(){const e=Ye._currentValue,t=c.A.get("media-url"),a=c.A.get("media-data").title,i={};let n=0;for(;n<e.length;){switch(e[n]){case"embed":"video"===c.A.get("media-data").media_type&&(i[e[n]]={});break;case"email":i[e[n]]={title:"Email",shareUrl:"mailto:?body="+t};break;case"fb":i[e[n]]={title:"Facebook",shareUrl:"https://www.facebook.com/sharer.php?u="+t};break;case"tw":i[e[n]]={title:"Twitter",shareUrl:"https://twitter.com/intent/tweet?url="+t};break;case"reddit":i[e[n]]={title:"reddit",shareUrl:"https://reddit.com/submit?url="+t+"&title="+a};break;case"tumblr":i[e[n]]={title:"Tumblr",shareUrl:"https://www.tumblr.com/widgets/share/tool?canonicalUrl="+t+"&title="+a};break;case"pinterest":i[e[n]]={title:"Pinterest",shareUrl:"http://pinterest.com/pin/create/link/?url="+t};break;case"vk":i[e[n]]={title:"ВКонтакте",shareUrl:"http://vk.com/share.php?url="+t+"&title="+a};break;case"linkedin":i[e[n]]={title:"LinkedIn",shareUrl:"https://www.linkedin.com/shareArticle?mini=true&url="+t};break;case"mix":i[e[n]]={title:"Mix",shareUrl:"https://mix.com/add?url="+t};break;case"whatsapp":i[e[n]]={title:"WhatsApp",shareUrl:"whatsapp://send?text="+t};break;case"telegram":i[e[n]]={title:"Telegram",shareUrl:"https://t.me/share/url?url="+t+"&text="+a}}n+=1}return i}(),t=[];for(let a in e)e.hasOwnProperty(a)&&("embed"===a?t.push(l.createElement("div",{key:"share-"+a,className:"sh-option share-"+a+"-opt"},l.createElement("button",{className:"sh-option change-page","data-page-id":"shareEmbed"},l.createElement("span",null,l.createElement("i",{className:"material-icons"},"code")),l.createElement("span",null,"Embed")))):"whatsapp"===a?t.push(l.createElement("div",{key:"share-"+a,className:"sh-option share-"+a},l.createElement("a",{href:e[a].shareUrl,title:"",target:"_blank","data-action":"share/whatsapp/share"},l.createElement("span",null),l.createElement("span",null,e[a].title)))):"email"===a?t.push(l.createElement("div",{key:"share-email",className:"sh-option share-email"},l.createElement("a",{href:e[a].shareUrl,title:""},l.createElement("span",null,l.createElement("i",{className:"material-icons"},"email")),l.createElement("span",null,e[a].title)))):t.push(l.createElement("div",{key:"share-"+a,className:"sh-option share-"+a},l.createElement("a",{href:e[a].shareUrl,title:"",target:"_blank"},l.createElement("span",null),l.createElement("span",null,e[a].title)))));return t}()),[h,f]=(0,l.useState)(0),[g,y]=(0,l.useState)(0),[E,v]=(0,l.useState)(!1),[b,_]=(0,l.useState)(i);function A(){m(Ze())}function w(){setTimeout((function(){Y.z8("Link copied to clipboard","clipboardLinkCopy")}),100)}function k(){n.scrollToCurrentSlide(),o({prev:n.hasPreviousSlide(),next:n.hasNextSlide()})}return(0,l.useEffect)((()=>{s(new He.A(a.current,".sh-option"))}),[p]),(0,l.useEffect)((()=>{n&&(n.updateDataStateOnResize(p.length,!0,!0),k())}),[d,n]),(0,l.useEffect)((()=>{u.A.on("window_resize",A),c.A.on("copied_media_link",w);const e=function(){const e=document.getElementsByTagName("video");return e[0]?.currentTime}();return f(e),y(function(e){let t=parseInt(e,10),a=Math.floor(t/3600),i=Math.floor((t-3600*a)/60),n=t-3600*a-60*i;return a<10&&(a="0"+a),i<10&&(i="0"+i),n<10&&(n="0"+n),a>=1?a+":"+i+":"+n:i+":"+n}(e)),()=>{u.A.removeListener("window_resize",A),c.A.removeListener("copied_media_link",w),s(null)}}),[]),l.createElement("div",{ref:t,style:null!==d.maxPopupWidth?{maxWidth:d.maxPopupWidth+"px"}:null},l.createElement("div",{className:"scrollable-content",style:null!==d.maxFormContentHeight?{maxHeight:d.maxFormContentHeight+"px"}:null},l.createElement("div",{className:"share-popup-title"},"Share media"),p.length?l.createElement("div",{className:"share-options"},r.prev?l.createElement(Ge,{onClick:function(){n.previousSlide(),k()}}):null,l.createElement("div",{ref:a,className:"share-options-inner"},p),r.next?l.createElement(Be,{onClick:function(){n.nextSlide(),k()}}):null):null),l.createElement("div",{className:"copy-field"},l.createElement("div",null,l.createElement("input",{type:"text",readOnly:!0,value:b}),l.createElement("button",{onClick:function(){I(t.current.querySelector(".copy-field input"))}},"COPY"))),l.createElement("div",{className:"start-at"},l.createElement("label",null,l.createElement("input",{type:"checkbox",name:"start-at-checkbox",id:"id-start-at-checkbox",checked:E,onChange:function(){v(!E),function(){const e=E?i:i+"&t="+Math.trunc(h);_(e)}()}}),"Start at ",g)))}function Ke(){return{shareOptions:l.createElement("div",{className:"popup-fullscreen"},l.createElement(X.AP,null,l.createElement("span",{className:"popup-fullscreen-overlay"}),l.createElement($e,null)))}}function Xe(e){const[t,a,i]=(0,W.O)(),[n,s]=(0,l.useState)("shareOptions");return l.createElement("div",{className:"share"},l.createElement(i,{contentRef:t},l.createElement("button",null,l.createElement(Z.i,{type:"span"},l.createElement($.Z,{type:"share"})),l.createElement("span",null,"SHARE"))),l.createElement(a,{contentRef:t,hideCallback:function(){s("shareOptions")}},l.createElement(Me.V,{initPage:n,pageChangeSelector:".change-page",pageIdSelectorAttr:"data-page-id",pages:e.isVideo?(r=function(){t.current.toggle()},{...Ke(),shareEmbed:l.createElement("div",{className:"popup-fullscreen share-embed-popup"},l.createElement(X.AP,null,l.createElement("span",{className:"popup-fullscreen-overlay"}),l.createElement(We,{triggerPopupClose:r})))}):Ke(),focusFirstItemOnPageChange:!1,pageChangeCallback:function(e){s(e)}})));var r}function Je(e){const t=(0,l.useRef)(null),a=(0,l.useRef)(null),[i,n]=(0,l.useState)(null);function s(){n(je.A.get("container-height")-(104+t.current.offsetHeight))}return(0,l.useEffect)((()=>(s(),u.A.on("window_resize",s),()=>{u.A.removeListener("window_resize",s)})),[]),l.createElement("form",null,l.createElement("div",{className:"report-form",style:null!==i?{maxHeight:i+"px"}:null},l.createElement("div",{className:"form-title"},"Report media"),l.createElement("div",{className:"form-field"},l.createElement("span",{className:"label"},"URL"),l.createElement("input",{type:"text",readOnly:!0,value:e.mediaUrl})),l.createElement("div",{className:"form-field"},l.createElement("span",{className:"label"},"Description"),l.createElement("textarea",{ref:a,required:!0})),l.createElement("div",{className:"form-field form-help-text"},"Reported media is reviewed")),l.createElement("div",{ref:t,className:"form-actions-bottom"},l.createElement("button",{className:"cancel",onClick:function(t){t.preventDefault(),void 0!==e.cancelReportForm&&e.cancelReportForm()}},"CANCEL"),l.createElement("button",{onClick:function(t){const i=a.current.value.trim();""!==i&&(t.preventDefault(),void 0!==e.submitReportForm&&e.submitReportForm(i))}},"SUBMIT")))}function Qe(e,t){j.A._currentValue;const a=d.A._currentValue,i=e.encodings_info,n={};let l,s;for(l in i)if(i.hasOwnProperty(l)&&Object.keys(i[l]).length)for(s in i[l])i[l].hasOwnProperty(s)&&"success"===i[l][s].status&&100===i[l][s].progress&&(n[i[l][s].title]={text:l+" - "+s.toUpperCase()+" ("+i[l][s].size+")",link:(0,f.c)(i[l][s].url,a.url),linkAttr:{target:"_blank",download:e.title+"_"+l+"_"+s.toUpperCase()}});return n.original_media_url={text:"Original file ("+e.size+")",link:(0,f.c)(e.original_media_url,a.url),linkAttr:{target:"_blank",download:e.title}},Object.values(n)}function et(e,t,a,i,n,s){const r=j.A._currentValue,o=e.url,c=e.media_type,m=e.state||"N/A",u=e.encoding_status||"N/A",p=e.reported_times,h=e.is_reviewed,f="video"===c,g=function(e,t,a,i){const n=[],l=j.A._currentValue,s=(d.A._currentValue,"video"===e.media_type),r=e.reported_times;return t&&l.can.downloadMedia&&(s?n.push({itemType:"open-subpage",text:"Download",icon:"arrow_downward",itemAttr:{className:"visible-only-in-small"},buttonAttr:{className:"change-page","data-page-id":"videoDownloadOptions"}}):a&&n.push({itemType:"link",link:a,text:"Download",icon:"arrow_downward",itemAttr:{className:"visible-only-in-small"},linkAttr:{target:"_blank",download:e.title}})),s&&l.can.editMedia&&n.push({itemType:"open-subpage",text:"Status info",icon:"info",buttonAttr:{className:"change-page","data-page-id":"mediaStatusInfo"}}),l.can.reportMedia&&(i?n.push({itemType:"div",text:"Reported",icon:"flag",divAttr:{className:"reported-label loggedin-media-reported"}}):n.push({itemType:"open-subpage",text:"Report",icon:"flag",buttonAttr:{className:"change-page"+(r?" loggedin-media-reported":""),"data-page-id":"loggedInReportMedia"}})),n}(e,t,a,i),y={};return g.length&&(y.main=l.createElement("div",{className:"main-options"},l.createElement(X.AP,null,l.createElement(Pe.S,{items:g})))),r.can.reportMedia&&(y.loggedInReportMedia=i?null:l.createElement("div",{className:"popup-fullscreen"},l.createElement(X.AP,null,l.createElement("span",{className:"popup-fullscreen-overlay"}),l.createElement("div",null,l.createElement(Je,{mediaUrl:o,submitReportForm:n,cancelReportForm:s}))))),r.can.editMedia&&(y.mediaStatusInfo=l.createElement("div",{className:"main-options"},l.createElement(X.AP,null,l.createElement("ul",{className:"media-status-info"},l.createElement("li",null,"Media type: ",l.createElement("span",null,c)),l.createElement("li",null,"State: ",l.createElement("span",null,m)),l.createElement("li",null,"Review state: ",l.createElement("span",null,h?"Is reviewed":"Pending review")),f?l.createElement("li",null,"Encoding Status: ",l.createElement("span",null,u)):null,p?l.createElement("li",{className:"reports"},"Reports: ",l.createElement("span",null,p)):null)))),t&&r.can.downloadMedia&&f&&(y.videoDownloadOptions=l.createElement("div",{className:"video-download-options"},l.createElement(X.AP,null,l.createElement(Pe.S,{items:Qe(e)})))),y}Je.propTypes={mediaUrl:o().string.isRequired,cancelReportForm:o().func,submitReportForm:o().func};const tt="more-options active-options";function at(e){const t=j.A._currentValue,a=d.A._currentValue,i=(0,f.c)(c.A.get("media-original-url"),a.url),n=c.A.get("media-data"),s="video"===n.media_type,[r,o,m]=(0,W.O)(),[u,p]=(0,l.useState)(!1),[h,g]=(0,l.useState)(!1),[y,E]=(0,l.useState)({}),[v,b]=(0,l.useState)("main"),[_,A]=(0,l.useState)(tt);function w(e){R(e)}function k(){r.current.toggle()}function N(){r.current.tryToHide(),setTimeout((function(){Y.z8("Media Reported","reportedMedia"),g(!0),c.A.removeListener("reported_media",N)}),100)}return(0,l.useEffect)((()=>{h||(u?c.A.on("reported_media",N):c.A.removeListener("reported_media",N))}),[u]),(0,l.useEffect)((()=>{p(Object.keys(y).length&&e.allowDownload&&t.can.downloadMedia)}),[y]),(0,l.useEffect)((()=>{let a=tt;e.allowDownload&&t.can.downloadMedia&&"videoDownloadOptions"===v&&(a+=" video-downloads"),1===Object.keys(y).length&&e.allowDownload&&t.can.downloadMedia&&(s||i)&&(a+=" visible-only-in-small"),A(a)}),[v]),(0,l.useEffect)((()=>{E(et(n,e.allowDownload,i,h,w,k))}),[h]),(0,l.useEffect)((()=>(E(et(n,e.allowDownload,i,h,w,k)),()=>{u&&!h&&c.A.removeListener("reported_media",N)})),[]),u?l.createElement("div",{className:_},l.createElement(m,{contentRef:r},l.createElement("span",null,l.createElement(Z.i,{type:"button"},l.createElement($.Z,{type:"more_horiz"})))),l.createElement("div",{className:"nav-page-"+v},l.createElement(o,{contentRef:r,hideCallback:function(){b("main")}},l.createElement(Me.V,{pageChangeCallback:function(e){b(e)},initPage:v,focusFirstItemOnPageChange:!1,pages:y,pageChangeSelector:".change-page",pageIdSelectorAttr:"data-page-id"})))):null}at.propTypes={allowDownload:o().bool.isRequired},at.defaultProps={allowDownload:!1};class it extends l.PureComponent{constructor(e){super(e),this.state={likedMedia:c.A.get("user-liked-media"),dislikedMedia:c.A.get("user-disliked-media")},this.downloadLink="video"!==c.A.get("media-type")?(0,f.c)(c.A.get("media-original-url"),d.A._currentValue.url):null,this.updateStateValues=this.updateStateValues.bind(this)}componentDidMount(){c.A.on("liked_media",this.updateStateValues),c.A.on("unliked_media",this.updateStateValues),c.A.on("disliked_media",this.updateStateValues),c.A.on("undisliked_media",this.updateStateValues);const e=document.querySelectorAll("[data-tooltip]");e.length&&e.forEach((e=>function(e){const t=document.body,a=document.createElement("span");function i(){const t=e.getBoundingClientRect();a.style.top=t.top-(0+a.offsetHeight)+"px",a.style.left=t.left+"px"}a.innerText=e.getAttribute("data-tooltip"),a.setAttribute("class","tooltip"),e.removeAttribute("data-tooltip"),e.addEventListener("mouseenter",(function(){const n=e.getBoundingClientRect();t.appendChild(a),a.style.top=n.top-(0+a.offsetHeight)+"px",a.style.left=n.left+"px",document.addEventListener("scroll",i)})),e.addEventListener("mouseleave",(function(){t.removeChild(a),a.style.top="",a.style.left="",document.removeEventListener("scroll",i)}))}(e)))}updateStateValues(){this.setState({likedMedia:c.A.get("user-liked-media"),dislikedMedia:c.A.get("user-disliked-media")})}mediaCategories(e){if(void 0===this.props.categories||null===this.props.categories||!this.props.categories.length)return null;let t=0,a=[];for(;t<this.props.categories.length;)a.push(l.createElement("span",{key:t},l.createElement("a",{href:(0,f.c)(this.props.categories[t].url,d.A._currentValue.url),title:this.props.categories[t].title},this.props.categories[t].title))),t+=1;return l.createElement("div",{className:"media-under-title-categories"+(e?" over-title":"")},a)}render(){const e=u.A.get("config-options").pages.media.displayViews&&void 0!==this.props.views,t=c.A.get("media-data").state;let a="";switch(t){case"private":case"restricted":a="The site admins have to make its access public";break;case"unlisted":a="The site admins have to make it appear on listings"}return l.createElement("div",{className:"media-title-banner"},e&&u.A.get("config-options").pages.media.categoriesWithTitle?this.mediaCategories(!0):null,void 0!==this.props.title?l.createElement("h1",null,this.props.title):null,"public"!==t?l.createElement("div",{className:"media-labels-area"},l.createElement("div",{className:"media-labels-area-inner"},l.createElement("span",{className:"media-label-state"},l.createElement("span",null,t)),l.createElement("span",{className:"helper-icon","data-tooltip":a},l.createElement("i",{className:"material-icons"},"help_outline")))):null,l.createElement("div",{className:"media-views-actions"+(this.state.likedMedia?" liked-media":"")+(this.state.dislikedMedia?" disliked-media":"")},!e&&u.A.get("config-options").pages.media.categoriesWithTitle?this.mediaCategories():null,l.createElement("span",{className:"author-banner-date"},"Published on ",(0,oe.w$)(new Date(this.props.published))),e?l.createElement("div",{className:"media-views"},(0,oe.ZV)(this.props.views,!0)," ",1>=this.props.views?"view":"views"):null,l.createElement("div",{className:"media-actions"},l.createElement("div",null,j.A._currentValue.can.likeMedia?l.createElement(Ne,null):null,j.A._currentValue.can.dislikeMedia?l.createElement(Se,null):null,j.A._currentValue.can.shareMedia?l.createElement(Xe,{isVideo:!1}):null,!j.A._currentValue.is.anonymous&&j.A._currentValue.can.saveMedia&&-1<_e._currentValue.mediaTypes.indexOf(c.A.get("media-type"))?l.createElement(ze,null):null,this.props.allowDownload&&j.A._currentValue.can.downloadMedia?this.downloadLink?l.createElement(Ce,{link:this.downloadLink,title:this.props.title}):l.createElement(xe,null):null,l.createElement(at,{allowDownload:this.props.allowDownload})))))}}it.propTypes={allowDownload:o().bool.isRequired},it.defaultProps={allowDownload:!1};class nt extends l.PureComponent{constructor(e){super(e),this.state={videoLoaded:!1},this.onVideoLoad=this.onVideoLoad.bind(this),c.A.on("loaded_media_data",this.onVideoLoad)}onVideoLoad(){this.setState({videoLoaded:!0})}render(){let e,t,a,i,n,s,r,o=!1;return this.state.videoLoaded&&(o=c.A.get("media-data").allow_download,o=void 0===o||!!o,e=c.A.get("media-data").views,t=c.A.get("media-data").categories_info,a=c.A.get("media-data").title,i={name:c.A.get("media-data").author_name,url:c.A.get("media-data").author_profile,thumb:c.A.get("media-author-thumbnail-url")},n=c.A.get("media-data").add_date,s=c.A.get("media-data").description,r=c.A.get("media-data").year_produced),this.state.videoLoaded?l.createElement("div",{className:"viewer-info"},l.createElement("div",{className:"viewer-info-inner"},l.createElement(it,{title:a,views:e,categories:t,allowDownload:o}),l.createElement(be,{author:i,published:n,description:s,yearProduced:r}))):null}}var lt=a(1838);function st(){const e=c.A.get("media-data");return e&&e.related_media&&e.related_media.length?e.related_media[0]:null}function rt(e){const[t,a]=(0,l.useState)(st()),[i,n]=(0,l.useState)(u.A.get("media-auto-play"));function s(){n(u.A.get("media-auto-play"))}function r(){a(st())}return(0,l.useEffect)((()=>(c.A.on("loaded_media_data",r),u.A.on("switched_media_auto_play",s),()=>{c.A.removeListener("loaded_media_data",r),u.A.removeListener("switched_media_auto_play",s)})),[]),t?l.createElement("div",{className:"auto-play"},l.createElement("div",{className:"auto-play-header"},l.createElement("div",{className:"next-label"},"Up next"),l.createElement("div",{className:"auto-play-option"},l.createElement("label",{className:"checkbox-label right-selectbox",tabIndex:0,onKeyPress:function(e){0===e.keyCode&&Y.Kx()}},"AUTOPLAY",l.createElement("span",{className:"checkbox-switcher-wrap"},l.createElement("span",{className:"checkbox-switcher"},l.createElement("input",{type:"checkbox",tabIndex:-1,checked:i,onChange:Y.Kx})))))),l.createElement(lt.k,{className:"items-list-hor",items:[t],pageItems:1,maxItems:1,singleLinkContent:!0,horizontalItemsOrientation:!0,hideDate:!0,hideViews:!u.A.get("config-media-item").displayViews,hideAuthor:!u.A.get("config-media-item").displayAuthor})):null}function ot(e){const[t,a]=(0,l.useState)(r()),[i,n]=(0,l.useState)(null);function s(){n(c.A.get("media-type")),a(r())}function r(){const e=c.A.get("media-data");return null!=e&&void 0!==e.related_media&&e.related_media.length?e.related_media:null}return(0,l.useEffect)((()=>(c.A.on("loaded_media_data",s),()=>c.A.removeListener("loaded_media_data",s))),[]),t&&t.length?l.createElement(lt.k,{className:"items-list-hor",items:!e.hideFirst||"video"!==i&&"audio"!==i?t:t.slice(1),pageItems:u.A.get("config-options").pages.media.related.initialSize,singleLinkContent:!0,horizontalItemsOrientation:!0,hideDate:!0,hideViews:!u.A.get("config-media-item").displayViews,hideAuthor:!u.A.get("config-media-item").displayAuthor}):null}ot.propTypes={hideFirst:o().bool},ot.defaultProps={hideFirst:!0};class dt extends(se()){constructor(){super(),this.data={playlistId:null,enabledLoop:null,enabledShuffle:null,savedPlaylist:!1,response:null},this.browserCache=u.A.get("browser-cache")}get(e){switch(e){case"logged-in-user-playlist":return!1;case"enabled-loop":return null===this.data.playlistId&&(this.data.playlistId=c.A.get("playlist-id"),this.data.enabledLoop=this.browserCache.get("loopPlaylist["+this.data.playlistId+"]"),this.data.enabledLoop=null===this.data.enabledLoop||this.data.enabledLoop),this.data.enabledLoop;case"enabled-shuffle":return null===this.data.playlistId&&(this.data.playlistId=c.A.get("playlist-id"),this.data.enabledShuffle=this.browserCache.get("shufflePlaylist["+this.data.playlistId+"]"),this.data.enabledShuffle=null!==this.data.enabledShuffle&&this.data.enabledShuffle),this.data.enabledShuffle;case"saved-playlist":return this.data.savedPlaylist}return null}actions_handler(e){switch(e.type){case"TOGGLE_LOOP":null===this.data.playlistId&&(this.data.playlistId=c.A.get("playlist-id"),this.data.enabledLoop=this.browserCache.get("loopPlaylist["+this.data.playlistId+"]"),this.data.enabledLoop=null===this.data.enabledLoop||this.data.enabledLoop),this.data.enabledLoop=!this.data.enabledLoop,this.browserCache.set("loopPlaylist["+this.data.playlistId+"]",this.data.enabledLoop),this.emit("loop-repeat-updated");break;case"TOGGLE_SHUFFLE":null===this.data.playlistId&&(this.data.playlistId=c.A.get("playlist-id"),this.data.enabledShuffle=this.browserCache.get("shufflePlaylist["+this.data.playlistId+"]"),this.data.enabledShuffle=null!==this.data.enabledShuffle&&this.data.enabledShuffle),this.data.enabledShuffle=!this.data.enabledShuffle,this.browserCache.set("shufflePlaylist["+this.data.playlistId+"]",this.data.enabledShuffle),this.emit("shuffle-updated");break;case"TOGGLE_SAVE":this.data.savedPlaylist=!this.data.savedPlaylist,this.emit("saved-updated")}}}var ct=(0,oe.ey)(new dt,"actions_handler"),mt=a(3599);function ut(e){return l.createElement(lt.k,{className:"items-list-hor",pageItems:9999,maxItems:9999,items:e.items,hideDate:!0,hideViews:!0,hidePlaylistOrderNumber:!1,horizontalItemsOrientation:!0,inPlaylistView:!0,singleLinkContent:!0,playlistActiveItem:e.playlistActiveItem})}ut.propTypes={items:o().array.isRequired,playlistActiveItem:mt.R},ut.defaultProps={playlistActiveItem:1};class pt extends l.PureComponent{constructor(e){super(e),this.state={expanded:!0,loopRepeat:ct.get("enabled-loop"),shuffle:ct.get("enabled-shuffle"),savedPlaylist:ct.get("saved-playlist-loop"),title:e.playlistData.title,link:e.playlistData.url,authorName:e.playlistData.user,authorLink:G.A._currentValue.home+"/user/"+e.playlistData.user,activeItem:e.activeItem,totalMedia:e.playlistData.media_count,items:e.playlistData.playlist_media},this.onHeaderClick=this.onHeaderClick.bind(this),this.onLoopClick=this.onLoopClick.bind(this),this.onShuffleClick=this.onShuffleClick.bind(this),this.onSaveClick=this.onSaveClick.bind(this),this.onLoopRepeatUpdate=this.onLoopRepeatUpdate.bind(this),this.onShuffleUpdate=this.onShuffleUpdate.bind(this),this.onPlaylistSaveUpdate=this.onPlaylistSaveUpdate.bind(this),ct.on("loop-repeat-updated",this.onLoopRepeatUpdate),ct.on("shuffle-updated",this.onShuffleUpdate),ct.on("saved-updated",this.onPlaylistSaveUpdate)}onHeaderClick(e){this.setState({expanded:!this.state.expanded})}onLoopClick(){S().dispatch({type:"TOGGLE_LOOP"})}onShuffleClick(){S().dispatch({type:"TOGGLE_SHUFFLE"})}onSaveClick(){S().dispatch({type:"TOGGLE_SAVE"})}onShuffleUpdate(){this.setState({shuffle:ct.get("enabled-shuffle")},(()=>{this.state.shuffle?Y.z8("Playlist shuffle is on","shuffle-on"):Y.z8("Playlist shuffle is off","shuffle-off")}))}onLoopRepeatUpdate(){this.setState({loopRepeat:ct.get("enabled-loop")},(()=>{this.state.loopRepeat?Y.z8("Playlist loop is on","loop-on"):Y.z8("Playlist loop is off","loop-off")}))}onPlaylistSaveUpdate(){this.setState({savedPlaylist:ct.get("saved-playlist")},(()=>{this.state.savedPlaylist?Y.z8("Added to playlists library","added-to-playlists-lib"):Y.z8("Removed from playlists library","removed-from-playlists-lib")}))}render(){return l.createElement("div",{className:"playlist-view-wrap"},l.createElement("div",{className:"playlist-view"+(this.state.expanded?" playlist-expanded-view":"")},l.createElement("div",{className:"playlist-header"},l.createElement("div",{className:"playlist-title"},l.createElement("a",{href:this.state.link,title:this.state.title},this.state.title)),l.createElement("div",{className:"playlist-meta"},l.createElement("span",null,l.createElement("a",{href:this.state.authorLink,title:this.state.authorName},this.state.authorName)),"  -  ",l.createElement("span",{className:"counter"},this.state.activeItem," / ",this.state.totalMedia)),l.createElement(Z.i,{className:"toggle-playlist-view",onClick:this.onHeaderClick},this.state.expanded?l.createElement("i",{className:"material-icons"},"keyboard_arrow_up"):l.createElement("i",{className:"material-icons"},"keyboard_arrow_down"))),this.state.expanded?l.createElement("div",{className:"playlist-actions"},l.createElement(Z.i,{className:this.state.loopRepeat?"active":"",onClick:this.onLoopClick,title:"Loop playlist"},l.createElement("i",{className:"material-icons"},"repeat"))):null,this.state.expanded&&this.state.items.length?l.createElement("div",{className:"playlist-media"},l.createElement(ut,{items:this.state.items,playlistActiveItem:this.state.activeItem})):null))}}pt.propTypes={playlistData:o().object.isRequired,activeItem:mt.R},pt.defaultProps={};class ht extends l.PureComponent{constructor(e){if(super(e),this.state={playlistData:e.playlistData,isPlaylistPage:!!e.playlistData,activeItem:0,mediaType:c.A.get("media-type")},e.playlistData){let t=0;for(;t<e.playlistData.playlist_media.length;){if(e.mediaId===e.playlistData.playlist_media[t].friendly_token){this.state.activeItem=t+1;break}t+=1}}this.onMediaLoad=this.onMediaLoad.bind(this)}componentDidMount(){c.A.on("loaded_media_data",this.onMediaLoad)}onMediaLoad(){this.setState({mediaType:c.A.get("media-type")})}render(){return l.createElement("div",{className:"viewer-sidebar"},this.state.isPlaylistPage?l.createElement(pt,{activeItem:this.state.activeItem,playlistData:this.props.playlistData}):"video"===this.state.mediaType||"audio"===this.state.mediaType?l.createElement(rt,null):null,l.createElement(ot,{hideFirst:!this.state.isPlaylistPage}))}}function ft(e){let t,a,{countries:i}=e,n=[];if(i.length)for(t=0,a=1<i.length?", ":"";t<i.length;)n[t]=l.createElement("span",{key:t},l.createElement("a",{href:i[t].url,className:"media-country",title:i[t].title},i[t].title),t<i.length-1?a:""),t+=1;return n}k.Y;class gt extends it{render(){const e=u.A.get("config-options").pages.media.displayViews&&void 0!==this.props.views,t=c.A.get("media-data").state,a=c.A.get("media-countries");let i="";switch(t){case"private":i="The site admins have to make its access public";break;case"unlisted":i="The site admins have to make it appear on listings"}return l.createElement("div",{className:"media-title-banner"},e&&u.A.get("config-options").pages.media.categoriesWithTitle?this.mediaCategories(!0):null,void 0!==this.props.title?l.createElement("h1",null,this.props.title):null,"public"!==t?l.createElement("div",{className:"media-labels-area"},l.createElement("div",{className:"media-labels-area-inner"},l.createElement("span",{className:"media-label-state"},l.createElement("span",null,t)),l.createElement("span",{className:"helper-icon","data-tooltip":i},l.createElement("i",{className:"material-icons"},"help_outline")))):null,l.createElement("div",{className:"media-views-actions"+(this.state.likedMedia?" liked-media":"")+(this.state.dislikedMedia?" disliked-media":"")},!e&&u.A.get("config-options").pages.media.categoriesWithTitle?this.mediaCategories():null,l.createElement("div",null,l.createElement("span",{className:"author-banner-date"},"Published on ",(0,oe.w$)(new Date(this.props.published))),a.length>0&&l.createElement(l.Fragment,null,l.createElement("span",{className:"dot-divider"},"·")," ",l.createElement(ft,{countries:a}))),l.createElement("div",{className:"media-actions"},l.createElement("div",{className:"media-actions-container"},e?l.createElement("div",{className:"media-views"},(0,oe.ZV)(this.props.views,!0)," ",1>=this.props.views?"view":"views"):null,j.A._currentValue.can.likeMedia?l.createElement(Ne,null):null,j.A._currentValue.can.dislikeMedia?l.createElement(Se,null):null,j.A._currentValue.can.shareMedia?l.createElement(Xe,{isVideo:!0}):null,!j.A._currentValue.is.anonymous&&j.A._currentValue.can.saveMedia&&-1<_e._currentValue.mediaTypes.indexOf(c.A.get("media-type"))?l.createElement(ze,null):null,this.props.allowDownload&&j.A._currentValue.can.downloadMedia?this.downloadLink?l.createElement(Ce,{link:this.downloadLink,title:this.props.title}):l.createElement(xe,null):null,l.createElement(at,{allowDownload:this.props.allowDownload})))))}}class yt extends nt{render(){let e,t,a,i,n,s,r,o=!1;return this.state.videoLoaded&&(o=c.A.get("media-data").allow_download,o=void 0===o||!!o,e=c.A.get("media-data").views,t=c.A.get("media-data").categories_info,a=c.A.get("media-data").title,i={name:c.A.get("media-data").author_name,url:c.A.get("media-data").author_profile,thumb:c.A.get("media-author-thumbnail-url")},n=c.A.get("media-data").add_date,s=c.A.get("media-data").description,r=c.A.get("media-data").year_produced),this.state.videoLoaded?l.createElement("div",{className:"viewer-info"},l.createElement("div",{className:"viewer-info-inner"},l.createElement(gt,{title:a,published:n,views:e,categories:t,allowDownload:o}),l.createElement(be,{author:i,published:n,description:s,yearProduced:r}))):null}}class Et extends k.Y{constructor(e){super(e,"media"),this.state={wideLayout:1216<=u.A.get("window-inner-width"),mediaLoaded:!1,mediaLoadFailed:!1,isVideoMedia:!1,theaterMode:!1,pagePlaylistLoaded:!1,pagePlaylistData:c.A.get("playlist-data")},this.onWindowResize=this.onWindowResize.bind(this),this.onMediaLoad=this.onMediaLoad.bind(this),this.onMediaLoadError=this.onMediaLoadError.bind(this),this.onPagePlaylistLoad=this.onPagePlaylistLoad.bind(this),c.A.on("loaded_media_data",this.onMediaLoad),c.A.on("loaded_media_error",this.onMediaLoadError),c.A.on("loaded_page_playlist_data",this.onPagePlaylistLoad)}componentDidMount(){C(),u.A.on("window_resize",this.onWindowResize)}onWindowResize(){this.setState({wideLayout:1216<=u.A.get("window-inner-width")})}onPagePlaylistLoad(){this.setState({pagePlaylistLoaded:!0,pagePlaylistData:c.A.get("playlist-data")})}onMediaLoad(){const e="video"===c.A.get("media-type");e?(this.onViewerModeChange=this.onViewerModeChange.bind(this),m.A.on("changed_viewer_mode",this.onViewerModeChange),this.setState({mediaLoaded:!0,isVideoMedia:e,theaterMode:m.A.get("in-theater-mode")})):this.setState({mediaLoaded:!0,isVideoMedia:e})}onViewerModeChange(){this.setState({theaterMode:m.A.get("in-theater-mode")})}onMediaLoadError(e){this.setState({mediaLoadFailed:!0})}pageContent(){const e="cf viewer-section"+(this.state.theaterMode?" theater-mode":" viewer-wide"),t="viewer-section-nested"+(this.state.theaterMode?" viewer-section":"");return this.state.mediaLoadFailed?l.createElement("div",{className:e},l.createElement(q,null)):l.createElement("div",{className:e},[l.createElement("div",{className:"viewer-container",key:"viewer-container"},this.state.mediaLoaded&&this.state.pagePlaylistLoaded?this.viewerContainerContent(c.A.get("media-data")):null),l.createElement("div",{key:"viewer-section-nested",className:t},!this.state.wideLayout||this.state.isVideoMedia&&this.state.theaterMode?[l.createElement(yt,{key:"viewer-info"}),this.state.pagePlaylistLoaded?l.createElement(ht,{key:"viewer-sidebar",mediaId:c.A.get("media-id"),playlistData:c.A.get("playlist-data")}):null]:[this.state.pagePlaylistLoaded?l.createElement(ht,{key:"viewer-sidebar",mediaId:c.A.get("media-id"),playlistData:c.A.get("playlist-data")}):null,l.createElement(yt,{key:"viewer-info"})])])}}(0,n.C)("page-media",class extends Et{viewerContainerContent(e){switch(c.A.get("media-type")){case"video":return l.createElement(d.q,null,(t=>l.createElement(s.A,{data:e,siteUrl:t.url,inEmbed:!1})));case"audio":return l.createElement(b,null);case"image":return l.createElement(_,null);case"pdf":return l.createElement(A,null)}return l.createElement(w,null)}})},4098:function(e,t,a){var i=a(929);const n={};t.A=class{constructor(e){n[Object.defineProperty(this,"id",{value:"MediaDurationInfo_"+Object.keys(n).length}).id]={fn:{infoToString:function(e){return e<10?"0"+e:e}}},(0,i.tR)(e)&&this.update(e)}update(e){n[this.id].toString=void 0,n[this.id].ariaLabel=void 0,(0,i.tR)(e)&&(n[this.id].days=Math.floor(e/86400),n[this.id].seconds=e%86400,n[this.id].date=n[this.id].seconds?new Date(1e3*n[this.id].seconds):null,n[this.id].hours=n[this.id].date?24*n[this.id].days+n[this.id].date.getUTCHours():0,n[this.id].minutes=n[this.id].date?n[this.id].date.getUTCMinutes():0,n[this.id].seconds=n[this.id].date?n[this.id].date.getSeconds():0)}toString(){return void 0===n[this.id].toString&&(n[this.id].toString=(0<n[this.id].hours?n[this.id].hours+":":"")+(0<n[this.id].hours&&10>n[this.id].minutes?"0":"")+n[this.id].minutes+":"+n[this.id].fn.infoToString(n[this.id].seconds)),n[this.id].toString}ariaLabel(){if(void 0===n[this.id].ariaLabel){let e=[];0<n[this.id].hours&&e.push(n[this.id].hours+" hours"),0<n[this.id].minutes&&e.push(n[this.id].minutes+" minutes"),0<n[this.id].seconds&&e.push(n[this.id].seconds+" seconds"),n[this.id].ariaLabel=e.join(", ")}return n[this.id].ariaLabel}ISO8601(){return"P0Y0M0DT"+n[this.id].hours+"H"+n[this.id].minutes+"M"+n[this.id].seconds+"S"}}},4136:function(e,t,a){a.d(t,{A:function(){return n}});var i=["January","February","March","April","May","June","July","August","September","October","November","December"];function n(e,t){if(e instanceof Date)switch(t=0<(t=0+t)?t:1){case 1:return i[e.getMonth()].substring(0,3)+" "+e.getDate()+", "+e.getFullYear();case 2:return e.getDate()+" "+i[e.getMonth()].substring(0,3)+" "+e.getFullYear();case 3:return e.getDate()+" "+i[e.getMonth()]+" "+e.getFullYear()}return null}},4443:function(e,t,a){a.d(t,{Fb:function(){return s.A},MB:function(){return n.A},QA:function(){return h.Ay},ZV:function(){return o.A},ey:function(){return r.A},gJ:function(){return m.A},gj:function(){return d.A},iq:function(){return i.A},m5:function(){return p.A},p7:function(){return u.A},w$:function(){return c.A},zi:function(){return l.A}});var i=a(9702),n=a(8628),l=a(7449),s=a(1579),r=a(4340),o=a(6925),d=a(9804),c=(a(797),a(7974),a(4136)),m=a(4404),u=a(7743),p=(a(8959),a(5252)),h=a(8198)},4681:function(e,t,a){a.d(t,{$M:function(){return s},i5:function(){return l}});var i=a(1700),n=a.n(i);function l(e){n().dispatch({type:"UPDATE_PLAYLIST",playlist_data:e})}function s(e,t){n().dispatch({type:"MEDIA_REMOVED_FROM_PLAYLIST",media_id:e,playlist_id:t})}},6680:function(e,t,a){a.d(t,{y:function(){return s}});var i=a(5602),n=a(6738);const l=i.createContext((0,n.$)(window.MediaCMS).url),s=l.Consumer;t.A=l},8282:function(e,t,a){var i=a(5602),n=a(6738);const l=i.createContext((0,n.$)(window.MediaCMS).api);l.Consumer,t.A=l},8429:function(e,t,a){a.d(t,{Kx:function(){return s},oh:function(){return l},z8:function(){return r}});var i=a(1700),n=a.n(i);function l(e){n().dispatch({type:"INIT_PAGE",page:e})}function s(){n().dispatch({type:"TOGGLE_AUTO_PLAY"})}function r(e,t){n().dispatch({type:"ADD_NOTIFICATION",notification:e,notificationId:t})}}},a={};function i(e){var n=a[e];if(void 0!==n)return n.exports;var l=a[e]={exports:{}};return t[e](l,l.exports,i),l.exports}i.m=t,e=[],i.O=function(t,a,n,l){if(!a){var s=1/0;for(c=0;c<e.length;c++){a=e[c][0],n=e[c][1],l=e[c][2];for(var r=!0,o=0;o<a.length;o++)(!1&l||s>=l)&&Object.keys(i.O).every((function(e){return i.O[e](a[o])}))?a.splice(o--,1):(r=!1,l<s&&(s=l));if(r){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[a,n,l]},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.j=201,function(){var e={201:0};i.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,l,s=a[0],r=a[1],o=a[2],d=0;if(s.some((function(t){return 0!==e[t]}))){for(n in r)i.o(r,n)&&(i.m[n]=r[n]);if(o)var c=o(i)}for(t&&t(a);d<s.length;d++)l=s[d],i.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return i.O(c)},a=self.webpackChunkmediacms_frontend=self.webpackChunkmediacms_frontend||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var n=i.O(void 0,[276],(function(){return i(2207)}));n=i.O(n)}();